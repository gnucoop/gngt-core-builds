{"version":3,"file":"model.js","sources":["../../../../../../src/core/model/model-actions.ts","../../../../../../src/core/model/model-reducer.ts","../../../../../../src/core/model/reducers.ts","../../../../../../src/core/model/model-error.ts","../../../../../../src/core/model/utils.ts","../../../../../../src/core/model/model-effects.ts","../../../../../../src/core/model/model-generic-action.ts","../../../../../../src/core/model/model-manager.ts","../../../../../../src/core/model/model-options.ts","../../../../../../src/core/model/model-options-token.ts","../../../../../../src/core/model/model-service.ts","../../../../../../src/core/model/public-api.ts","../../../../../../src/core/model/index.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Model, ModelListParams, ModelListResult, ModelQueryParams} from '@gngt/core/common';\nimport {type} from '@gngt/core/reducers';\n\nimport {ModelError} from './model-error';\nimport {ModelGenericAction} from './model-generic-action';\n\nexport interface ModelActionTypes {\n  GET: string;\n  GET_FAILURE: string;\n  GET_SUCCESS: string;\n  LIST: string;\n  LIST_SUCCESS: string;\n  LIST_FAILURE: string;\n  CREATE: string;\n  CREATE_SUCCESS: string;\n  CREATE_FAILURE: string;\n  UPDATE: string;\n  UPDATE_SUCCESS: string;\n  UPDATE_FAILURE: string;\n  PATCH: string;\n  PATCH_SUCCESS: string;\n  PATCH_FAILURE: string;\n  DELETE: string;\n  DELETE_SUCCESS: string;\n  DELETE_FAILURE: string;\n  DELETE_ALL: string;\n  DELETE_ALL_SUCCESS: string;\n  DELETE_ALL_FAILURE: string;\n  QUERY: string;\n  QUERY_SUCCESS: string;\n  QUERY_FAILURE: string;\n}\n\nexport function generateModelActionTypes(typeName: string): ModelActionTypes {\n  return {\n    LIST: type(`[${typeName}] List`),\n    LIST_FAILURE: type(`[${typeName}] List failure`),\n    LIST_SUCCESS: type(`[${typeName}] List success`),\n    GET: type(`[${typeName}] Get`),\n    GET_FAILURE: type(`[${typeName}] Get failure`),\n    GET_SUCCESS: type(`[${typeName}] Get success`),\n    CREATE: type(`[${typeName}] Create`),\n    CREATE_FAILURE: type(`[${typeName}] Create failure`),\n    CREATE_SUCCESS: type(`[${typeName}] Create success`),\n    UPDATE: type(`[${typeName}] Update`),\n    UPDATE_FAILURE: type(`[${typeName}] Update failure`),\n    UPDATE_SUCCESS: type(`[${typeName}] Update success`),\n    PATCH: type(`[${typeName}] Patch`),\n    PATCH_FAILURE: type(`[${typeName}] Patch failure`),\n    PATCH_SUCCESS: type(`[${typeName}] Patch success`),\n    DELETE: type(`[${typeName}] Delete`),\n    DELETE_FAILURE: type(`[${typeName}] Delete failure`),\n    DELETE_SUCCESS: type(`[${typeName}] Delete success`),\n    DELETE_ALL: type(`[${typeName}] Delete all`),\n    DELETE_ALL_FAILURE: type(`[${typeName}] Delete all failure`),\n    DELETE_ALL_SUCCESS: type(`[${typeName}] Delete all success`),\n    QUERY: type(`[${typeName}] Query`),\n    QUERY_FAILURE: type(`[${typeName}] Query failure`),\n    QUERY_SUCCESS: type(`[${typeName}] Query success`),\n  };\n}\n\nexport abstract class ModelBaseAction implements ModelGenericAction {\n  abstract type: string;\n  uuid: string;\n  constructor(public payload: any) {}\n}\n\nexport abstract class ModelGetAction extends ModelBaseAction {\n  constructor(public override payload: {id: number}) {\n    super(payload);\n  }\n}\nexport abstract class ModelGetSuccessAction<T extends Model> extends ModelBaseAction {\n  constructor(public override payload: {item: T}) {\n    super(payload);\n  }\n}\nexport abstract class ModelGetFailureAction extends ModelBaseAction {\n  constructor(public override payload: {error: ModelError}) {\n    super(payload);\n  }\n}\n\nexport abstract class ModelListAction extends ModelBaseAction {\n  constructor(public override payload: {params: ModelListParams}) {\n    super(payload);\n  }\n}\nexport abstract class ModelListSuccessAction<T extends Model> extends ModelBaseAction {\n  constructor(public override payload: {result: ModelListResult<T>}) {\n    super(payload);\n  }\n}\nexport abstract class ModelListFailureAction extends ModelBaseAction {\n  constructor(public override payload: {error: ModelError}) {\n    super(payload);\n  }\n}\n\nexport abstract class ModelCreateAction<T extends Model> extends ModelBaseAction {\n  constructor(public override payload: {item: T}) {\n    super(payload);\n  }\n}\nexport abstract class ModelCreateSuccessAction<T extends Model> extends ModelBaseAction {\n  constructor(public override payload: {item: T}) {\n    super(payload);\n  }\n}\nexport abstract class ModelCreateFailureAction extends ModelBaseAction {\n  constructor(public override payload: {error: ModelError}) {\n    super(payload);\n  }\n}\n\nexport abstract class ModelUpdateAction<T extends Model> extends ModelBaseAction {\n  constructor(public override payload: {item: T}) {\n    super(payload);\n  }\n}\nexport abstract class ModelUpdateSuccessAction<T extends Model> extends ModelBaseAction {\n  constructor(public override payload: {item: T}) {\n    super(payload);\n  }\n}\nexport abstract class ModelUpdateFailureAction extends ModelBaseAction {\n  constructor(public override payload: {error: ModelError}) {\n    super(payload);\n  }\n}\n\nexport abstract class ModelPatchAction<T extends Model> extends ModelBaseAction {\n  constructor(public override payload: {item: T}) {\n    super(payload);\n  }\n}\nexport abstract class ModelPatchSuccessAction<T extends Model> extends ModelBaseAction {\n  constructor(public override payload: {item: T}) {\n    super(payload);\n  }\n}\nexport abstract class ModelPatchFailureAction extends ModelBaseAction {\n  constructor(public override payload: {error: ModelError}) {\n    super(payload);\n  }\n}\n\nexport abstract class ModelDeleteAction<T extends Model> extends ModelBaseAction {\n  constructor(public override payload: {item: T}) {\n    super(payload);\n  }\n}\nexport abstract class ModelDeleteSuccessAction<T extends Model> extends ModelBaseAction {\n  constructor(public override payload: {item: T}) {\n    super(payload);\n  }\n}\nexport abstract class ModelDeleteFailureAction extends ModelBaseAction {\n  constructor(public override payload: {error: ModelError}) {\n    super(payload);\n  }\n}\n\nexport abstract class ModelDeleteAllAction<T extends Model> extends ModelBaseAction {\n  constructor(public override payload: {items: T[]}) {\n    super(payload);\n  }\n}\nexport abstract class ModelDeleteAllSuccessAction<T extends Model> extends ModelBaseAction {\n  constructor(public override payload: {items: T[]}) {\n    super(payload);\n  }\n}\nexport abstract class ModelDeleteAllFailureAction extends ModelBaseAction {\n  constructor(public override payload: {error: ModelError}) {\n    super(payload);\n  }\n}\n\nexport abstract class ModelQueryAction extends ModelBaseAction {\n  constructor(public override payload: {params: ModelQueryParams}) {\n    super(payload);\n  }\n}\nexport abstract class ModelQuerySuccessAction<T extends Model> extends ModelBaseAction {\n  constructor(public override payload: {result: ModelListResult<T>}) {\n    super(payload);\n  }\n}\nexport abstract class ModelQueryFailureAction extends ModelBaseAction {\n  constructor(public override payload: {error: ModelError}) {\n    super(payload);\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  Model,\n  ModelGetParams,\n  ModelListParams,\n  ModelListResult,\n  ModelQueryParams\n} from '@gngt/core/common';\n\nimport {\n  ModelActionTypes,\n  ModelBaseAction,\n  ModelCreateAction,\n  ModelCreateFailureAction,\n  ModelCreateSuccessAction,\n  ModelDeleteAction,\n  ModelDeleteAllAction,\n  ModelDeleteAllFailureAction,\n  ModelDeleteAllSuccessAction,\n  ModelDeleteFailureAction,\n  ModelDeleteSuccessAction,\n  ModelGetAction,\n  ModelGetFailureAction,\n  ModelGetSuccessAction,\n  ModelListAction,\n  ModelListFailureAction,\n  ModelListSuccessAction,\n  ModelPatchAction,\n  ModelPatchFailureAction,\n  ModelPatchSuccessAction,\n  ModelQueryAction,\n  ModelQueryFailureAction,\n  ModelQuerySuccessAction,\n  ModelUpdateAction,\n  ModelUpdateFailureAction,\n  ModelUpdateSuccessAction,\n} from './model-actions';\nimport {ModelError} from './model-error';\n\nconst stateQueueLimit = 20;\n\nexport interface ModelGetState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  options: ModelGetParams;\n  id: number|null;\n  object: M|null;\n  error: ModelError|null;\n}\n\nexport interface ModelListState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  options: ModelListParams;\n  objects: ModelListResult<M>|null;\n  error: ModelError|null;\n}\n\nexport interface ModelCreateState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  object: M|null;\n  error: ModelError|null;\n}\n\nexport interface ModelUpdateState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  id: number|null;\n  object: M|null;\n  error: ModelError|null;\n}\n\nexport interface ModelPatchState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  id: number|null;\n  object: M|null;\n  error: ModelError|null;\n}\n\nexport interface ModelDeleteState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  id: number|null;\n  object: M|null;\n  error: ModelError|null;\n}\n\nexport interface ModelDeleteAllState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  ids: number[]|null;\n  objects: M[]|null;\n  error: ModelError|null;\n}\n\nexport interface ModelQueryState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  options: ModelQueryParams|null;\n  objects: ModelListResult<M>|null;\n  error: ModelError|null;\n}\n\nexport interface State<M extends Model> {\n  get: ModelGetState<M>[];\n  list: ModelListState<M>[];\n  create: ModelCreateState<M>[];\n  update: ModelUpdateState<M>[];\n  patch: ModelPatchState<M>[];\n  delete: ModelDeleteState<M>[];\n  deleteAll: ModelDeleteAllState<M>[];\n  query: ModelQueryState<M>[];\n}\n\nexport function generateInitialModelState<M extends Model>(): State<M> {\n  return {\n    get: [],\n    list: [],\n    create: [],\n    update: [],\n    patch: [],\n    delete: [],\n    deleteAll: [],\n    query: [],\n  };\n}\n\nexport function modelReducer<M extends Model>(\n    state: State<M>, action: ModelBaseAction, actionTypes: ModelActionTypes): State<M> {\n  switch (action.type) {\n    case actionTypes.GET:\n      return {\n        ...state,\n        get: [\n          {\n            uuid: action.uuid,\n            loading: true,\n            options: {id: null},\n            id: (<ModelGetAction>action).payload.id,\n            object: null,\n            error: null\n          },\n          ...state.get.slice(0, stateQueueLimit - 1)\n        ],\n      };\n\n    case actionTypes.GET_SUCCESS:\n      const successGetIdx = state.get.findIndex(g => g.uuid === action.uuid);\n      if (successGetIdx >= 0) {\n        return {\n          ...state,\n          get: [\n            ...state.get.slice(0, successGetIdx), {\n              ...state.get[successGetIdx],\n              loading: false,\n              object: (<ModelGetSuccessAction<M>>action).payload.item,\n              error: null\n            },\n            ...state.get.slice(successGetIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.GET_FAILURE:\n      const failureGetIdx = state.get.findIndex(g => g.uuid === action.uuid);\n      if (failureGetIdx >= 0) {\n        return {\n          ...state,\n          get: [\n            ...state.get.slice(0, failureGetIdx), {\n              ...state.get[failureGetIdx],\n              loading: false,\n              object: null,\n              error: (<ModelGetFailureAction>action).payload.error\n            },\n            ...state.get.slice(failureGetIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.LIST:\n      return {\n        ...state,\n        list: [\n          {\n            uuid: action.uuid,\n            loading: true,\n            options: (<ModelListAction>action).payload.params,\n            objects: null,\n            error: null\n          },\n          ...state.list.slice(0, stateQueueLimit - 1)\n        ],\n      };\n\n    case actionTypes.LIST_SUCCESS:\n      const successListIdx = state.list.findIndex(g => g.uuid === action.uuid);\n      if (successListIdx >= 0) {\n        return {\n          ...state,\n          list: [\n            ...state.list.slice(0, successListIdx), {\n              ...state.list[successListIdx],\n              loading: false,\n              objects: (<ModelListSuccessAction<M>>action).payload.result,\n              error: null\n            },\n            ...state.list.slice(successListIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.LIST_FAILURE:\n      const failureListIdx = state.list.findIndex(g => g.uuid === action.uuid);\n      if (failureListIdx >= 0) {\n        return {\n          ...state,\n          list: [\n            ...state.list.slice(0, failureListIdx), {\n              ...state.list[failureListIdx],\n              loading: false,\n              objects: null,\n              error: (<ModelListFailureAction>action).payload.error\n            },\n            ...state.list.slice(failureListIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.CREATE:\n      return {\n        ...state,\n        create: [\n          {\n            uuid: action.uuid,\n            loading: true,\n            object: (<ModelCreateAction<M>>action).payload.item,\n            error: null\n          },\n          ...state.create.slice(0, stateQueueLimit - 1)\n        ],\n      };\n\n    case actionTypes.CREATE_SUCCESS:\n      const successCreateIdx = state.create.findIndex(g => g.uuid === action.uuid);\n      if (successCreateIdx >= 0) {\n        return {\n          ...state,\n          create: [\n            ...state.create.slice(0, successCreateIdx), {\n              ...state.create[successCreateIdx],\n              loading: false,\n              object: (<ModelCreateSuccessAction<M>>action).payload.item,\n              error: null\n            },\n            ...state.create.slice(successCreateIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.CREATE_FAILURE:\n      const failureCreateIdx = state.create.findIndex(g => g.uuid === action.uuid);\n      if (failureCreateIdx >= 0) {\n        return {\n          ...state,\n          create: [\n            ...state.create.slice(0, failureCreateIdx), {\n              ...state.create[failureCreateIdx],\n              loading: false,\n              object: null,\n              error: (<ModelCreateFailureAction>action).payload.error\n            },\n            ...state.create.slice(failureCreateIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.UPDATE:\n      return {\n        ...state,\n        update: [\n          {\n            uuid: action.uuid,\n            loading: true,\n            id: (<ModelUpdateAction<M>>action).payload.item.id,\n            object: (<ModelUpdateAction<M>>action).payload.item,\n            error: null\n          },\n          ...state.update.slice(0, stateQueueLimit - 1)\n        ]\n      };\n\n    case actionTypes.UPDATE_SUCCESS:\n      const successUpdateIdx = state.update.findIndex(g => g.uuid === action.uuid);\n      if (successUpdateIdx >= 0) {\n        return {\n          ...state,\n          update: [\n            ...state.update.slice(0, successUpdateIdx), {\n              ...state.update[successUpdateIdx],\n              loading: false,\n              object: (<ModelUpdateSuccessAction<M>>action).payload.item,\n              error: null\n            },\n            ...state.update.slice(successUpdateIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.UPDATE_FAILURE:\n      const failureUpdateIdx = state.update.findIndex(g => g.uuid === action.uuid);\n      if (failureUpdateIdx >= 0) {\n        return {\n          ...state,\n          update: [\n            ...state.update.slice(0, failureUpdateIdx), {\n              ...state.update[failureUpdateIdx],\n              loading: false,\n              object: null,\n              error: (<ModelUpdateFailureAction>action).payload.error\n            },\n            ...state.update.slice(failureUpdateIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.PATCH:\n      return {\n        ...state,\n        patch: [\n          {\n            uuid: action.uuid,\n            loading: true,\n            id: (<ModelPatchAction<M>>action).payload.item.id,\n            object: (<ModelPatchAction<M>>action).payload.item,\n            error: null\n          },\n          ...state.patch.slice(0, stateQueueLimit - 1)\n        ]\n      };\n\n    case actionTypes.PATCH_SUCCESS:\n      const successPatchIdx = state.patch.findIndex(g => g.uuid === action.uuid);\n      if (successPatchIdx >= 0) {\n        return {\n          ...state,\n          patch: [\n            ...state.patch.slice(0, successPatchIdx), {\n              ...state.patch[successPatchIdx],\n              loading: false,\n              object: (<ModelPatchSuccessAction<M>>action).payload.item,\n              error: null\n            },\n            ...state.patch.slice(successPatchIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.PATCH_FAILURE:\n      const failurePatchIdx = state.patch.findIndex(g => g.uuid === action.uuid);\n      if (failurePatchIdx >= 0) {\n        return {\n          ...state,\n          patch: [\n            ...state.patch.slice(0, failurePatchIdx), {\n              ...state.patch[failurePatchIdx],\n              loading: false,\n              object: null,\n              error: (<ModelPatchFailureAction>action).payload.error\n            },\n            ...state.patch.slice(failurePatchIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.DELETE:\n      return {\n        ...state,\n        delete: [\n          {\n            uuid: action.uuid,\n            loading: true,\n            id: (<ModelDeleteAction<M>>action).payload.item.id,\n            object: null,\n            error: null\n          },\n          ...state.delete.slice(0, stateQueueLimit - 1)\n        ],\n      };\n\n    case actionTypes.DELETE_SUCCESS:\n      const successDeleteIdx = state.delete.findIndex(g => g.uuid === action.uuid);\n      if (successDeleteIdx >= 0) {\n        return {\n          ...state,\n          delete: [\n            ...state.delete.slice(0, successDeleteIdx), {\n              ...state.delete[successDeleteIdx],\n              loading: false,\n              object: (<ModelDeleteSuccessAction<M>>action).payload.item,\n              error: null\n            },\n            ...state.delete.slice(successDeleteIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.DELETE_FAILURE:\n      const failureDeleteIdx = state.delete.findIndex(g => g.uuid === action.uuid);\n      if (failureDeleteIdx >= 0) {\n        return {\n          ...state,\n          delete: [\n            ...state.delete.slice(0, failureDeleteIdx), {\n              ...state.delete[failureDeleteIdx],\n              loading: false,\n              object: null,\n              error: (<ModelDeleteFailureAction>action).payload.error\n            },\n            ...state.delete.slice(failureDeleteIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.DELETE_ALL:\n      return {\n        ...state,\n        deleteAll: [\n          {\n            uuid: action.uuid,\n            loading: true,\n            ids: (<ModelDeleteAllAction<M>>action).payload.items.map(i => i.id),\n            objects: null,\n            error: null\n          },\n          ...state.deleteAll.slice(0, stateQueueLimit - 1)\n        ],\n      };\n\n    case actionTypes.DELETE_ALL_SUCCESS:\n      const successDeleteAllIdx = state.deleteAll.findIndex(g => g.uuid === action.uuid);\n      if (successDeleteAllIdx >= 0) {\n        return {\n          ...state,\n          deleteAll: [\n            ...state.deleteAll.slice(0, successDeleteAllIdx), {\n              ...state.deleteAll[successDeleteAllIdx],\n              loading: false,\n              objects: (<ModelDeleteAllSuccessAction<M>>action).payload.items,\n              error: null\n            },\n            ...state.deleteAll.slice(successDeleteAllIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.DELETE_ALL_FAILURE:\n      const failureDeleteAllIdx = state.deleteAll.findIndex(g => g.uuid === action.uuid);\n      if (failureDeleteAllIdx >= 0) {\n        return {\n          ...state,\n          deleteAll: [\n            ...state.deleteAll.slice(0, failureDeleteAllIdx), {\n              ...state.deleteAll[failureDeleteAllIdx],\n              loading: false,\n              objects: null,\n              error: (<ModelDeleteAllFailureAction>action).payload.error\n            },\n            ...state.deleteAll.slice(failureDeleteAllIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.QUERY:\n      return {\n        ...state,\n        query: [\n          {\n            uuid: action.uuid,\n            loading: true,\n            options: (<ModelQueryAction>action).payload.params,\n            objects: null,\n            error: null\n          },\n          ...state.query.slice(0, stateQueueLimit - 1)\n        ],\n      };\n\n    case actionTypes.QUERY_SUCCESS:\n      const successQueryIdx = state.query.findIndex(g => g.uuid === action.uuid);\n      if (successQueryIdx >= 0) {\n        return {\n          ...state,\n          query: [\n            ...state.query.slice(0, successQueryIdx), {\n              ...state.query[successQueryIdx],\n              loading: false,\n              options: {...state.query[successQueryIdx].options!},\n              objects: (<ModelQuerySuccessAction<M>>action).payload.result,\n              error: null\n            },\n            ...state.query.slice(successQueryIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    case actionTypes.QUERY_FAILURE:\n      const failureQueryIdx = state.query.findIndex(g => g.uuid === action.uuid);\n      if (failureQueryIdx >= 0) {\n        return {\n          ...state,\n          query: [\n            ...state.query.slice(0, failureQueryIdx), {\n              ...state.query[failureQueryIdx],\n              loading: false,\n              options: {...state.query[failureQueryIdx].options!},\n              objects: null,\n              error: (<ModelQueryFailureAction>action).payload.error\n            },\n            ...state.query.slice(failureQueryIdx + 1)\n          ],\n        };\n      }\n      return state;\n\n    default:\n      return state;\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Model} from '@gngt/core/common';\n\nimport {State} from './model-reducer';\n\nexport * from './model-reducer';\n\nexport interface ModelPackageState<M extends Model> {\n  [model: string]: State<M>;\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport interface ModelError {\n  message: string;\n  stack: string;\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {v4} from 'uuid';\n\nimport {ModelGenericAction} from './model-generic-action';\n\nexport function createAction<A extends ModelGenericAction>(params: {\n  type: string,\n  payload?: any,\n  uuid?: string,\n}): A {\n  return {\n    type: params.type,\n    uuid: params.uuid || v4(),\n    payload: params.payload,\n  } as A;\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Model, ModelListResult} from '@gngt/core/common';\nimport {Actions, createEffect, CreateEffectMetadata, ofType} from '@ngrx/effects';\nimport {Observable, of as obsOf} from 'rxjs';\nimport {catchError, map, mergeMap} from 'rxjs/operators';\n\nimport {\n  ModelActionTypes,\n  ModelCreateAction,\n  ModelDeleteAction,\n  ModelDeleteAllAction,\n  ModelGetAction,\n  ModelListAction,\n  ModelPatchAction,\n  ModelQueryAction,\n  ModelUpdateAction,\n} from './model-actions';\nimport {ModelGenericAction} from './model-generic-action';\nimport {ModelManager} from './model-manager';\nimport * as fromModel from './model-reducer';\nimport {ModelService} from './model-service';\nimport {createAction} from './utils';\n\nexport abstract class ModelEffects<\n    M extends Model = Model, S extends fromModel.State<M> = fromModel.State<M>, A extends\n        ModelGenericAction = ModelGenericAction, AT extends ModelActionTypes = ModelActionTypes> {\n  protected readonly modelGet$ =\n      createEffect(\n          () =>\n              this._actions.pipe(\n                  ofType<ModelGetAction>(this._actionTypes.GET),\n                  mergeMap(\n                      action => this._manager.get(action.payload.id)\n                                    .pipe(\n                                        map((item: M) => createAction({\n                                              type: this._actionTypes.GET_SUCCESS,\n                                              payload: {item},\n                                              uuid: action.uuid\n                                            })),\n                                        catchError(\n                                            error => obsOf(createAction({\n                                              type: this._actionTypes.GET_FAILURE,\n                                              payload: {message: error.message, stack: error.stack},\n                                              uuid: action.uuid\n                                            }))),\n                                        )),\n                  ) as Observable<ModelGenericAction>) as Observable<A>&\n      CreateEffectMetadata;\n\n  protected readonly modelList$ =\n      createEffect(\n          () =>\n              this._actions.pipe(\n                  ofType<ModelListAction>(this._actionTypes.LIST),\n                  mergeMap(\n                      action => this._manager.list(action.payload.params)\n                                    .pipe(\n                                        map((result: ModelListResult<M>) => createAction({\n                                              type: this._actionTypes.LIST_SUCCESS,\n                                              payload: {result},\n                                              uuid: action.uuid\n                                            })),\n                                        catchError(\n                                            error => obsOf(createAction({\n                                              type: this._actionTypes.LIST_FAILURE,\n                                              payload: {message: error.message, stack: error.stack},\n                                              uuid: action.uuid\n                                            }))),\n                                        )),\n                  ) as Observable<ModelGenericAction>) as Observable<A>&\n      CreateEffectMetadata;\n\n  protected readonly modelCreate$ =\n      createEffect(\n          () =>\n              this._actions.pipe(\n                  ofType<ModelCreateAction<M>>(this._actionTypes.CREATE),\n                  mergeMap(\n                      action => this._manager.create(action.payload.item)\n                                    .pipe(\n                                        map((item: M) => createAction({\n                                              type: this._actionTypes.CREATE_SUCCESS,\n                                              payload: {item},\n                                              uuid: action.uuid\n                                            })),\n                                        catchError(\n                                            error => obsOf(createAction({\n                                              type: this._actionTypes.CREATE_FAILURE,\n                                              payload: {message: error.message, stack: error.stack},\n                                              uuid: action.uuid\n                                            }))),\n                                        )),\n                  ) as Observable<ModelGenericAction>) as Observable<A>&\n      CreateEffectMetadata;\n\n  protected readonly modelUpdate$ =\n      createEffect(\n          () =>\n              this._actions.pipe(\n                  ofType<ModelUpdateAction<M>>(this._actionTypes.UPDATE),\n                  mergeMap(\n                      action => this._manager.update(action.payload.item.id, action.payload.item)\n                                    .pipe(\n                                        map((item: M) => createAction({\n                                              type: this._actionTypes.UPDATE_SUCCESS,\n                                              payload: {item},\n                                              uuid: action.uuid\n                                            })),\n                                        catchError(\n                                            error => obsOf(createAction({\n                                              type: this._actionTypes.CREATE_FAILURE,\n                                              payload: {message: error.message, stack: error.stack},\n                                              uuid: action.uuid\n                                            }))),\n                                        )),\n                  ) as Observable<ModelGenericAction>) as Observable<A>&\n      CreateEffectMetadata;\n\n  protected readonly modelPatch$ =\n      createEffect(\n          () =>\n              this._actions.pipe(\n                  ofType<ModelPatchAction<M>>(this._actionTypes.PATCH),\n                  mergeMap(\n                      action => this._manager.patch(action.payload.item.id, action.payload.item)\n                                    .pipe(\n                                        map((item: M) => createAction({\n                                              type: this._actionTypes.PATCH_SUCCESS,\n                                              payload: {item},\n                                              uuid: action.uuid\n                                            })),\n                                        catchError(\n                                            error => obsOf(createAction({\n                                              type: this._actionTypes.PATCH_FAILURE,\n                                              payload: {message: error.message, stack: error.stack},\n                                              uuid: action.uuid\n                                            }))),\n                                        )),\n                  ) as Observable<ModelGenericAction>) as Observable<A>&\n      CreateEffectMetadata;\n\n  protected readonly modelDelete$ =\n      createEffect(\n          () =>\n              this._actions.pipe(\n                  ofType<ModelDeleteAction<M>>(this._actionTypes.DELETE),\n                  mergeMap(\n                      action => this._manager.delete(action.payload.item.id)\n                                    .pipe(\n                                        map(() => createAction({\n                                              type: this._actionTypes.DELETE_SUCCESS,\n                                              payload: {item: action.payload.item},\n                                              uuid: action.uuid\n                                            })),\n                                        catchError(\n                                            error => obsOf(createAction({\n                                              type: this._actionTypes.DELETE_FAILURE,\n                                              payload: {message: error.message, stack: error.stack},\n                                              uuid: action.uuid\n                                            }))),\n                                        )),\n                  ) as Observable<ModelGenericAction>) as Observable<A>&\n      CreateEffectMetadata;\n\n  protected readonly modelDeleteAll$ =\n      createEffect(\n          () =>\n              this._actions.pipe(\n                  ofType<ModelDeleteAllAction<M>>(this._actionTypes.DELETE_ALL),\n                  mergeMap(\n                      action => this._manager.deleteAll(action.payload.items.map(i => i.id))\n                                    .pipe(\n                                        map(() => createAction({\n                                              type: this._actionTypes.DELETE_ALL_SUCCESS,\n                                              payload: {items: action.payload.items},\n                                              uuid: action.uuid\n                                            })),\n                                        catchError(\n                                            error => obsOf(createAction({\n                                              type: this._actionTypes.DELETE_ALL_FAILURE,\n                                              payload: {message: error.message, stack: error.stack},\n                                              uuid: action.uuid\n                                            }))),\n                                        )),\n                  ) as Observable<ModelGenericAction>) as Observable<A>&\n      CreateEffectMetadata;\n\n  protected readonly modelQuery$ =\n      createEffect(\n          () =>\n              this._actions.pipe(\n                  ofType<ModelQueryAction>(this._actionTypes.QUERY),\n                  mergeMap(\n                      action => this._manager.query(action.payload.params)\n                                    .pipe(\n                                        map((result: ModelListResult<M>) => createAction({\n                                              type: this._actionTypes.QUERY_SUCCESS,\n                                              payload: {result},\n                                              uuid: action.uuid\n                                            })),\n                                        catchError(\n                                            error => obsOf(createAction({\n                                              type: this._actionTypes.QUERY_FAILURE,\n                                              payload: {message: error.message, stack: error.stack},\n                                              uuid: action.uuid\n                                            }))),\n                                        ),\n                      ),\n                  ) as Observable<ModelGenericAction>) as Observable<A>&\n      CreateEffectMetadata;\n\n  constructor(\n      protected _actions: Actions,\n      protected _service: ModelService<M, S, AT>,\n      protected _manager: ModelManager<M>,\n      private _actionTypes: AT,\n  ) {}\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Action} from '@ngrx/store';\n\nexport interface ModelGenericAction extends Action {\n  readonly type: string;\n  readonly uuid: string;\n  payload: any;\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {HttpClient} from '@angular/common/http';\nimport {Optional} from '@angular/core';\nimport {\n  Model,\n  ModelListParams,\n  ModelListResult,\n  ModelManager as BaseModelManager,\n  ModelQueryParams\n} from '@gngt/core/common';\nimport {SyncService} from '@gngt/core/sync';\nimport {Observable} from 'rxjs';\n\nimport {ModelOptions} from './model-options';\n\n\nexport abstract class ModelManager<M extends Model = Model> extends BaseModelManager {\n  private _baseUrl: string;\n  get baseUrl(): string {\n    return this._baseUrl;\n  }\n\n  private _useTrailingSlash = false;\n\n  constructor(\n      config: ModelOptions,\n      endPoint: string,\n      protected _http: HttpClient,\n      @Optional() syncService?: SyncService,\n  ) {\n    super();\n    this._endPoint = endPoint;\n    this._baseUrl = `${config.baseApiUrl}${this._endPoint}`;\n    this._useTrailingSlash = config.addTrailingSlash != null ? config.addTrailingSlash : false;\n    if (syncService != null && config.syncModel) {\n      if (config.tableName == null) {\n        throw new Error(`Table name must be set for model ${this._endPoint}`);\n      }\n      syncService.registerSyncModel(this._baseUrl, config.tableName);\n    }\n  }\n\n  get(id: number): Observable<M> {\n    return this._http.get<M>(this._getObjectUrl(id));\n  }\n\n  list(options?: ModelListParams): Observable<ModelListResult<M>> {\n    const params = this._listParamsToQueryParameters(options);\n    return this._http.get<ModelListResult<M>>(`${this._getListUrl()}${params}`);\n  }\n\n  create(data: M): Observable<M> {\n    return this._http.post<M>(this._getListUrl(), data);\n  }\n\n  update(id: number, data: M): Observable<M> {\n    return this._http.put<M>(this._getObjectUrl(id), data);\n  }\n\n  patch(id: number, data: M): Observable<M> {\n    return this._http.patch<M>(this._getObjectUrl(id), data);\n  }\n\n  delete(id: number): Observable<M> {\n    return this._http.delete<M>(this._getObjectUrl(id));\n  }\n\n  deleteAll(ids: number[]): Observable<M> {\n    let url = `${this._baseUrl}/delete_all`;\n    if (this._useTrailingSlash) {\n      url = `${url}/`;\n    }\n    return this._http.post<M>(url, {ids});\n  }\n\n  query(params: ModelQueryParams): Observable<ModelListResult<M>> {\n    let url = `${this._baseUrl}/query`;\n    if (this._useTrailingSlash) {\n      url = `${url}/`;\n    }\n    return this._http.post<ModelListResult<M>>(url, params);\n  }\n\n  private _getObjectUrl(id: number): string {\n    let url = `${this._baseUrl}/${id}`;\n    if (this._useTrailingSlash) {\n      url = `${url}/`;\n    }\n    return url;\n  }\n\n  private _getListUrl(): string {\n    let url = this._baseUrl;\n    if (this._useTrailingSlash) {\n      url = `${url}/`;\n    }\n    return url;\n  }\n\n  private _listParamsToQueryParameters(options?: ModelListParams): string {\n    let params = '';\n    const paramsArray: string[] = [];\n    if (options) {\n      if (options.limit) {\n        paramsArray.push(`limit=${options.limit}`);\n      }\n      if (options.start) {\n        paramsArray.push(`start=${options.start}`);\n      }\n      if (options.sort) {\n        const props = Object.keys(options.sort);\n        paramsArray.push(`sort=${props.map(p => `${p}:${options.sort![p]}`).join(',')}`);\n      }\n      if (options.fields) {\n        paramsArray.push(`fields=${options.fields.join(',')}`);\n      }\n      if (options.joins) {\n        paramsArray.push(`joins=${\n            options.joins\n                .map(j => {\n                  const join = `${j.model}.${j.property}`;\n                  if (j.fields) {\n                    return `${join}.${j.fields.join(';')}`;\n                  }\n                  return join;\n                })\n                .join(',')}`);\n      }\n      if (paramsArray.length > 0) {\n        params = `?${paramsArray.join('&')}`;\n      }\n    }\n    return params;\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport interface ModelOptions {\n  baseApiUrl: string;\n  addTrailingSlash?: boolean;\n  syncModel?: boolean;\n  tableName?: string;\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {InjectionToken} from '@angular/core';\n\nimport {ModelOptions} from './model-options';\n\n\nexport const MODEL_OPTIONS: InjectionToken<ModelOptions> = new InjectionToken<ModelOptions>(\n    'MODEL_OPTIONS', {providedIn: 'root', factory: () => ({baseApiUrl: '/'})});\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  Model,\n  ModelGetParams,\n  ModelListParams,\n  ModelListResult,\n  ModelQueryParams\n} from '@gngt/core/common';\nimport * as fromRoot from '@gngt/core/reducers';\nimport {Actions, ofType} from '@ngrx/effects';\nimport {createFeatureSelector, createSelector, MemoizedSelector, select, Store} from '@ngrx/store';\nimport {Observable, pipe, throwError, UnaryFunction} from 'rxjs';\nimport {filter, map, switchMap, take, tap} from 'rxjs/operators';\n\nimport {\n  ModelActionTypes,\n  ModelCreateAction,\n  ModelCreateSuccessAction,\n  ModelDeleteAction,\n  ModelDeleteAllAction,\n  ModelDeleteAllSuccessAction,\n  ModelDeleteSuccessAction,\n  ModelGetAction,\n  ModelListAction,\n  ModelPatchAction,\n  ModelQueryAction,\n  ModelUpdateAction,\n  ModelUpdateSuccessAction,\n} from './model-actions';\nimport {ModelError} from './model-error';\nimport {ModelGenericAction} from './model-generic-action';\nimport * as fromModel from './reducers';\nimport {createAction} from './utils';\n\nexport abstract class ModelService<\n    T extends Model = Model, S extends fromModel.State<T> = fromModel.State<T>,\n                                       A extends ModelActionTypes = ModelActionTypes> {\n  protected _modelState: MemoizedSelector<object, S>;\n\n  private _lastGetEntry:\n      UnaryFunction<Observable<fromRoot.State>, Observable<fromModel.ModelGetState<T>>>;\n  private _lastListEntry:\n      UnaryFunction<Observable<fromRoot.State>, Observable<fromModel.ModelListState<T>>>;\n  private _lastCreateEntry:\n      UnaryFunction<Observable<fromRoot.State>, Observable<fromModel.ModelCreateState<T>>>;\n  private _lastPatchEntry:\n      UnaryFunction<Observable<fromRoot.State>, Observable<fromModel.ModelPatchState<T>>>;\n  private _lastUpdateEntry:\n      UnaryFunction<Observable<fromRoot.State>, Observable<fromModel.ModelUpdateState<T>>>;\n  private _lastDeleteEntry:\n      UnaryFunction<Observable<fromRoot.State>, Observable<fromModel.ModelDeleteState<T>>>;\n  private _lastDeleteAllEntry:\n      UnaryFunction<Observable<fromRoot.State>, Observable<fromModel.ModelDeleteAllState<T>>>;\n  private _lastQueryEntry:\n      UnaryFunction<Observable<fromRoot.State>, Observable<fromModel.ModelQueryState<T>>>;\n\n  constructor(\n      protected _store: Store<fromRoot.State>, protected _actions: Actions<ModelGenericAction>,\n      private _actionTypes: A, statePrefixes: [string, string]) {\n    const packageState = createFeatureSelector(statePrefixes[0]);\n    this._modelState = createSelector(packageState, s => <S>(<any>s)[statePrefixes[1]]);\n\n    this._lastGetEntry = pipe(\n        select(createSelector(this._modelState, (state) => state.get)),\n        filter(g => g.length > 0),\n        map(g => g[0]),\n    );\n    this._lastListEntry = pipe(\n        select(createSelector(this._modelState, (state) => state.list)),\n        filter(g => g.length > 0),\n        map(g => g[0]),\n    );\n    this._lastCreateEntry = pipe(\n        select(createSelector(this._modelState, (state) => state.create)),\n        filter(g => g.length > 0),\n        map(g => g[0]),\n    );\n    this._lastPatchEntry = pipe(\n        select(createSelector(this._modelState, (state) => state.patch)),\n        filter(g => g.length > 0),\n        map(g => g[0]),\n    );\n    this._lastUpdateEntry = pipe(\n        select(createSelector(this._modelState, (state) => state.update)),\n        filter(g => g.length > 0),\n        map(g => g[0]),\n    );\n    this._lastDeleteEntry = pipe(\n        select(createSelector(this._modelState, (state) => state.delete)),\n        filter(g => g.length > 0),\n        map(g => g[0]),\n    );\n    this._lastDeleteAllEntry = pipe(\n        select(createSelector(this._modelState, (state) => state.deleteAll)),\n        filter(g => g.length > 0),\n        map(g => g[0]),\n    );\n    this._lastQueryEntry = pipe(\n        select(createSelector(this._modelState, (state) => state.query)),\n        filter(g => g.length > 0),\n        map(g => g[0]),\n    );\n  }\n\n  getGetLoading(): Observable<boolean> {\n    return this._store.pipe(\n        this._lastGetEntry,\n        map(g => g.loading),\n    );\n  }\n\n  getGetOptions(): Observable<ModelGetParams> {\n    return this._store.pipe(\n        this._lastGetEntry,\n        map(g => g.options),\n    );\n  }\n\n  getGetId(): Observable<number|null> {\n    return this._store.pipe(\n        this._lastGetEntry,\n        map(g => g.id),\n    );\n  }\n\n  getGetObject(): Observable<T|null> {\n    return this._store.pipe(\n        this._lastGetEntry,\n        map(g => g.object),\n    );\n  }\n\n  getGetError(): Observable<ModelError|null> {\n    return this._store.pipe(\n        this._lastGetEntry,\n        map(g => g.error),\n    );\n  }\n\n  getListLoading(): Observable<boolean> {\n    return this._store.pipe(\n        this._lastListEntry,\n        map(g => g.loading),\n    );\n  }\n\n  getListOptions(): Observable<ModelListParams> {\n    return this._store.pipe(\n        this._lastListEntry,\n        map(g => g.options),\n    );\n  }\n\n  getListObjects(): Observable<ModelListResult<T>|null> {\n    return this._store.pipe(\n        this._lastListEntry,\n        map(g => g.objects),\n    );\n  }\n\n  getListError(): Observable<ModelError|null> {\n    return this._store.pipe(\n        this._lastListEntry,\n        map(g => g.error),\n    );\n  }\n\n  getListHasNext(): Observable<boolean> {\n    return this._store.pipe(\n        this._lastListEntry,\n        map(g => g.objects != null && g.objects!.next != null),\n    );\n  }\n\n  getListCurrentStart(): Observable<number> {\n    return this._store.pipe(\n        this._lastListEntry,\n        filter(g => g.options != null),\n        map(g => g.options!.start != null ? g.options!.start : 1),\n    );\n  }\n\n  getCreateLoading(): Observable<boolean> {\n    return this._store.pipe(\n        this._lastCreateEntry,\n        map(g => g.loading),\n    );\n  }\n\n  getCreateObject(): Observable<T|null> {\n    return this._store.pipe(\n        this._lastCreateEntry,\n        map(g => g.object),\n    );\n  }\n\n  getCreateError(): Observable<ModelError|null> {\n    return this._store.pipe(\n        this._lastCreateEntry,\n        map(g => g.error),\n    );\n  }\n\n  getUpdateLoading(): Observable<boolean> {\n    return this._store.pipe(\n        this._lastUpdateEntry,\n        map(g => g.loading),\n    );\n  }\n\n  getUpdateId(): Observable<number|null> {\n    return this._store.pipe(\n        this._lastUpdateEntry,\n        map(g => g.id),\n    );\n  }\n\n  getUpdateObject(): Observable<T|null> {\n    return this._store.pipe(\n        this._lastUpdateEntry,\n        map(g => g.object),\n    );\n  }\n\n  getUpdateError(): Observable<ModelError|null> {\n    return this._store.pipe(\n        this._lastUpdateEntry,\n        map(g => g.error),\n    );\n  }\n\n  getPatchLoading(): Observable<boolean> {\n    return this._store.pipe(\n        this._lastPatchEntry,\n        map(g => g.loading),\n    );\n  }\n\n  getPatchId(): Observable<number|null> {\n    return this._store.pipe(\n        this._lastPatchEntry,\n        map(g => g.id),\n    );\n  }\n\n  getPatchObject(): Observable<T|null> {\n    return this._store.pipe(\n        this._lastPatchEntry,\n        map(g => g.object),\n    );\n  }\n\n  getPatchError(): Observable<ModelError|null> {\n    return this._store.pipe(\n        this._lastPatchEntry,\n        map(g => g.error),\n    );\n  }\n\n  getDeleteLoading(): Observable<boolean> {\n    return this._store.pipe(\n        this._lastDeleteEntry,\n        map(g => g.loading),\n    );\n  }\n\n  getDeleteId(): Observable<number|null> {\n    return this._store.pipe(\n        this._lastDeleteEntry,\n        map(g => g.id),\n    );\n  }\n\n  getDeleteObject(): Observable<T|null> {\n    return this._store.pipe(\n        this._lastDeleteEntry,\n        map(g => g.object),\n    );\n  }\n\n  getDeleteError(): Observable<ModelError|null> {\n    return this._store.pipe(\n        this._lastDeleteEntry,\n        map(g => g.error),\n    );\n  }\n\n  getDeleteAllLoading(): Observable<boolean> {\n    return this._store.pipe(\n        this._lastDeleteAllEntry,\n        map(g => g.loading),\n    );\n  }\n\n  getDeleteAllIds(): Observable<number[]|null> {\n    return this._store.pipe(\n        this._lastDeleteAllEntry,\n        map(g => g.ids),\n    );\n  }\n\n  getDeleteAllObjects(): Observable<T[]|null> {\n    return this._store.pipe(\n        this._lastDeleteAllEntry,\n        map(g => g.objects),\n    );\n  }\n\n  getDeleteAllError(): Observable<ModelError|null> {\n    return this._store.pipe(\n        this._lastDeleteAllEntry,\n        map(g => g.error),\n    );\n  }\n\n  getQueryLoading(): Observable<boolean> {\n    return this._store.pipe(\n        this._lastQueryEntry,\n        map(g => g.loading),\n    );\n  }\n\n  getQueryOptions(): Observable<ModelQueryParams|null> {\n    return this._store.pipe(\n        this._lastQueryEntry,\n        map(g => g.options),\n    );\n  }\n\n  getQueryObjects(): Observable<ModelListResult<T>|null> {\n    return this._store.pipe(\n        this._lastQueryEntry,\n        map(g => g.objects),\n    );\n  }\n\n  getQueryError(): Observable<ModelError|null> {\n    return this._store.pipe(\n        this._lastQueryEntry,\n        map(g => g.error),\n    );\n  }\n\n  getQueryHasNext(): Observable<boolean> {\n    return this._store.pipe(\n        this._lastQueryEntry,\n        map(g => g.objects != null && g.objects!.next != null),\n    );\n  }\n\n  getQueryCurrentStart(): Observable<number> {\n    return this._store.pipe(\n        this._lastQueryEntry,\n        filter(g => g.options != null),\n        map(g => g.options!.start != null ? g.options!.start : 1),\n    );\n  }\n\n  getCreateSuccess(): Observable<ModelCreateSuccessAction<T>> {\n    return this._actions.pipe(\n        ofType(this._actionTypes.CREATE_SUCCESS),\n    );\n  }\n\n  getUpdateSuccess(): Observable<ModelUpdateSuccessAction<T>> {\n    return this._actions.pipe(\n        ofType(this._actionTypes.UPDATE_SUCCESS),\n    );\n  }\n\n  getPatchSuccess(): Observable<ModelUpdateSuccessAction<T>> {\n    return this._actions.pipe(\n        ofType(this._actionTypes.PATCH_SUCCESS),\n    );\n  }\n\n  getDeleteSuccess(): Observable<ModelDeleteSuccessAction<T>> {\n    return this._actions.pipe(\n        ofType(this._actionTypes.DELETE_SUCCESS),\n    );\n  }\n\n  getDeleteAllSuccess(): Observable<ModelDeleteAllSuccessAction<T>> {\n    return this._actions.pipe(\n        ofType(this._actionTypes.DELETE_ALL_SUCCESS),\n    );\n  }\n\n  get(id: number): Observable<T> {\n    const action = createAction<ModelGetAction>({type: this._actionTypes.GET, payload: {id}});\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n        ofType(this._actionTypes.GET_SUCCESS, this._actionTypes.GET_FAILURE),\n        filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n        switchMap(() => this._store),\n        select(s => createSelector(this._modelState, (state) => state.get)(s as object)),\n        map(gets => gets.find(g => g.uuid === action.uuid)),\n        filter(get => get != null),\n        tap(get => {\n          if (get!.error != null) {\n            throwError(get!.error);\n          }\n        }),\n        filter(get => get!.object != null),\n        map(get => get!.object!),\n        take(1),\n    );\n  }\n\n  list(options?: ModelListParams): Observable<ModelListResult<T>> {\n    const action = createAction<ModelListAction>(\n        {type: this._actionTypes.LIST, payload: {params: options || {}}});\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n        ofType(this._actionTypes.LIST_SUCCESS, this._actionTypes.LIST_FAILURE),\n        filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n        switchMap(() => this._store),\n        select(s => createSelector(this._modelState, (state) => state.list)(s as object)),\n        map(lists => lists.find(l => l.uuid === action.uuid)),\n        filter(list => list != null),\n        tap(list => {\n          if (list!.error != null) {\n            throwError(list!.error);\n          }\n        }),\n        filter(list => list!.objects != null),\n        map(list => list!.objects!),\n        take(1),\n    );\n  }\n\n  create(data: Partial<T>): Observable<T> {\n    const action = createAction<ModelCreateAction<T>>({\n      type: this._actionTypes.CREATE,\n      payload: {item: data},\n    });\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n        ofType(this._actionTypes.CREATE_SUCCESS, this._actionTypes.CREATE_FAILURE),\n        filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n        switchMap(() => this._store),\n        select(s => createSelector(this._modelState, (state) => state.create)(s as object)),\n        map(creates => creates.find(c => c.uuid === action.uuid)),\n        filter(creates => creates != null),\n        tap(create => {\n          if (create!.error != null) {\n            throwError(create!.error);\n          }\n        }),\n        filter(create => create!.object != null),\n        map(create => create!.object!),\n        take(1),\n    );\n  }\n\n  update(data: T): Observable<T> {\n    const action = createAction<ModelUpdateAction<T>>({\n      type: this._actionTypes.UPDATE,\n      payload: {item: data},\n    });\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n        ofType(this._actionTypes.UPDATE_SUCCESS, this._actionTypes.UPDATE_FAILURE),\n        filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n        switchMap(() => this._store),\n        select(s => createSelector(this._modelState, (state) => state.update)(s as object)),\n        map(updates => updates.find(u => u.uuid === action.uuid)),\n        filter(updates => updates != null),\n        tap(update => {\n          if (update!.error != null) {\n            throwError(update!.error);\n          }\n        }),\n        filter(update => update!.object != null),\n        map(update => update!.object!),\n        take(1),\n    );\n  }\n\n  patch(data: T): Observable<T> {\n    const action =\n        createAction<ModelPatchAction<T>>({type: this._actionTypes.PATCH, payload: {item: data}});\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n        ofType(this._actionTypes.PATCH_SUCCESS, this._actionTypes.PATCH_FAILURE),\n        filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n        switchMap(() => this._store),\n        select(s => createSelector(this._modelState, (state) => state.patch)(s as object)),\n        map(patches => patches.find(p => p.uuid === action.uuid)),\n        filter(patches => patches != null),\n        tap(patch => {\n          if (patch!.error != null) {\n            throwError(patch!.error);\n          }\n        }),\n        filter(patch => patch!.object != null),\n        map(patch => patch!.object!),\n        take(1),\n    );\n  }\n\n  delete(data: T): Observable<T> {\n    const action =\n        createAction<ModelDeleteAction<T>>({type: this._actionTypes.DELETE, payload: {item: data}});\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n        ofType(this._actionTypes.DELETE_SUCCESS, this._actionTypes.DELETE_FAILURE),\n        filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n        switchMap(() => this._store),\n        select(s => createSelector(this._modelState, (state) => state.delete)(s as object)),\n        map(dels => dels.find(d => d.uuid === action.uuid)),\n        filter(dels => dels != null),\n        tap(del => {\n          if (del!.error != null) {\n            throwError(del!.error);\n          }\n        }),\n        filter(del => del!.object != null),\n        map(del => del!.object!),\n        take(1),\n    );\n  }\n\n  deleteAll(data: T[]): Observable<T[]> {\n    const action = createAction<ModelDeleteAllAction<T>>(\n        {type: this._actionTypes.DELETE_ALL, payload: {items: data}});\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n        ofType(this._actionTypes.DELETE_ALL_SUCCESS, this._actionTypes.DELETE_ALL_FAILURE),\n        filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n        switchMap(() => this._store),\n        select(s => createSelector(this._modelState, (state) => state.deleteAll)(s as object)),\n        map(deleteAlls => deleteAlls.find(d => d.uuid === action.uuid)),\n        filter(deleteAlls => deleteAlls != null),\n        tap(deleteAll => {\n          if (deleteAll!.error != null) {\n            throwError(deleteAll!.error);\n          }\n        }),\n        filter(deleteAll => deleteAll!.objects != null),\n        map(deleteAll => deleteAll!.objects!),\n        take(1),\n    );\n  }\n\n  query(options: ModelQueryParams): Observable<ModelListResult<T>> {\n    const action = createAction<ModelQueryAction>(\n        {type: this._actionTypes.QUERY, payload: {params: options || {}}});\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n        ofType(this._actionTypes.QUERY_SUCCESS, this._actionTypes.QUERY_FAILURE),\n        filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n        switchMap(() => this._store),\n        select(s => createSelector(this._modelState, (state) => state.query)(s as object)),\n        map(queries => queries.find(q => q.uuid === action.uuid)),\n        filter(queries => queries != null),\n        tap(query => {\n          if (query!.error != null) {\n            throwError(query!.error);\n          }\n        }),\n        filter(query => query!.objects != null),\n        map(query => query!.objects!),\n        take(1),\n    );\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport * from './model-actions';\nexport * from './reducers';\nexport * from './model-error';\nexport * from './model-effects';\nexport * from './model-generic-action';\nexport * from './model-manager';\nexport * from './model-options';\nexport * from './model-options-token';\nexport * from './model-reducer';\nexport * from './model-service';\nexport * from './utils';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["obsOf","BaseModelManager"],"mappings":"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"}