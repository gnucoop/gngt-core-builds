{"version":3,"file":"model.es5.js","sources":["../../../src/core/model/model-service.ts","../../../src/core/model/model-options-token.ts","../../../src/core/model/model-manager.ts","../../../src/core/model/model-effects.ts","../../../src/core/model/reducers.ts","../../../src/core/model/model-reducer.ts","../../../src/core/model/model-actions.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {createSelector, createFeatureSelector, MemoizedSelector, select, Store} from '@ngrx/store';\n\nimport {Observable} from 'rxjs';\n\nimport {Actions, ofType} from '@ngrx/effects';\n\nimport * as fromRoot from '@gngt/core/reducers';\n\nimport {Model, ModelGetParams, ModelListParams, ModelListResult} from '@gngt/core/common';\nimport * as ModelActions from './model-actions';\nimport * as fromModel from './reducers';\n\n\nfunction createGetAction<T extends ModelActions.ModelGetAction>(\n  type: { new(p: {id: number}): T }, id: number\n): T {\n  return new type({id});\n}\nfunction createListAction<T extends ModelActions.ModelListAction>(\n  type: { new(p: {params: ModelListParams}): T }, params: ModelListParams\n): T {\n  return new type({params});\n}\nfunction createCreateAction<T extends ModelActions.ModelCreateAction<M>, M extends Model>(\n  type: { new(p: {item: M}): T }, item: M\n): T {\n  return new type({item});\n}\nfunction createUpdateAction<T extends ModelActions.ModelUpdateAction<M>, M extends Model>(\n  type: { new(p: {item: M}): T }, item: M\n): T {\n  return new type({item});\n}\nfunction createPatchAction<T extends ModelActions.ModelPatchAction<M>, M extends Model>(\n  type: { new(p: {item: M}): T }, item: M\n): T {\n  return new type({item});\n}\nfunction createDeleteAction<T extends ModelActions.ModelDeleteAction<M>, M extends Model>(\n  type: { new(p: {item: M}): T }, item: M\n): T {\n  return new type({item});\n}\nfunction createDeleteAllAction<T extends ModelActions.ModelDeleteAllAction<M>, M extends Model>(\n  type: { new(p: {items: M[]}): T }, items: M[]\n): T {\n  return new type({items});\n}\n\n\nexport abstract class ModelService<\n  T extends Model,\n  S extends fromModel.State<T>,\n  A1 extends ModelActions.ModelGetAction,\n  A2 extends ModelActions.ModelListAction,\n  A3 extends ModelActions.ModelCreateAction<T>,\n  A4 extends ModelActions.ModelUpdateAction<T>,\n  A5 extends ModelActions.ModelPatchAction<T>,\n  A6 extends ModelActions.ModelDeleteAction<T>,\n  A7 extends ModelActions.ModelDeleteAllAction<T>> {\n  protected _modelState: MemoizedSelector<object, S>;\n\n  constructor(\n    protected _store: Store<fromRoot.State>,\n    private _actions: Actions,\n    private _getAction: { new(p: {id: number}): A1 },\n    private _listAction: { new(p: {params: ModelListParams}): A2 },\n    private _createAction: { new(p: {item: T}): A3 },\n    private _updateAction: { new(p: {item: T}): A4 },\n    private _patchAction: { new(p: {item: T}): A5 },\n    private _deleteAction: { new(p: {item: T}): A6 },\n    private _deleteAllAction: { new(p: {items: T[]}): A7 },\n    statePrefixes: [string, string]\n  ) {\n    const packageState = createFeatureSelector(statePrefixes[0]);\n    this._modelState = createSelector(packageState, s => <S>(<any>s)[statePrefixes[1]]);\n  }\n\n  getGetLoading(): Observable<boolean> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.get.loading))\n    );\n  }\n\n  getGetOptions(): Observable<ModelGetParams> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.get.options))\n    );\n  }\n\n  getGetId(): Observable<number | null> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.get.id))\n    );\n  }\n\n  getGetObject(): Observable<T | null> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.get.object))\n    );\n  }\n\n  getGetError(): Observable<any> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.get.error))\n    );\n  }\n\n  getListLoading(): Observable<boolean> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.list.loading))\n    );\n  }\n\n  getListOptions(): Observable<ModelListParams> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.list.options))\n    );\n  }\n\n  getListObjects(): Observable<ModelListResult<T> | null> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.list.objects))\n    );\n  }\n\n  getListError(): Observable<any> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.list.error))\n    );\n  }\n\n  getListHasNext(): Observable<any> {\n    return this._store.pipe(select(createSelector(\n      this._modelState, (state) => state.list.objects && state.list.objects.next\n    )));\n  }\n\n  getListCurrentStart(): Observable<any> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => {\n        if (state.list.options && state.list.options.start != null) {\n          return state.list.options.start;\n        }\n        return 1;\n      }))\n    );\n  }\n\n  getCreateLoading(): Observable<boolean> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.create.loading))\n    );\n  }\n\n  getCreateObject(): Observable<T | null> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.create.object))\n    );\n  }\n\n  getCreateError(): Observable<any> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.create.error))\n    );\n  }\n\n  getUpdateLoading(): Observable<boolean> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.update.loading))\n    );\n  }\n\n  getUpdateId(): Observable<number | null> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.update.id))\n    );\n  }\n\n  getUpdateObject(): Observable<T | null> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.update.object))\n    );\n  }\n\n  getUpdateError(): Observable<any> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.update.error))\n    );\n  }\n\n  getPatchLoading(): Observable<boolean> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.patch.loading))\n    );\n  }\n\n  getPatchId(): Observable<number | null> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.patch.id))\n    );\n  }\n\n  getPatchObject(): Observable<T | null> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.patch.object))\n    );\n  }\n\n  getPatchError(): Observable<any> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.patch.error))\n    );\n  }\n\n  getDeleteLoading(): Observable<boolean> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.delete.loading))\n    );\n  }\n\n  getDeleteId(): Observable<number | null> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.delete.id))\n    );\n  }\n\n  getDeleteObject(): Observable<T | null> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.delete.object))\n    );\n  }\n\n  getDeleteError(): Observable<any> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.delete.error))\n    );\n  }\n\n  getDeleteAllLoading(): Observable<boolean> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.deleteAll.loading))\n    );\n  }\n\n  getDeleteAllIds(): Observable<number[] | null> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.deleteAll.ids))\n    );\n  }\n\n  getDeleteAllObjects(): Observable<T[] | null> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.deleteAll.objects))\n    );\n  }\n\n  getDeleteAllError(): Observable<any> {\n    return this._store.pipe(\n      select(createSelector(this._modelState, (state) => state.deleteAll.error))\n    );\n  }\n\n  getCreateSuccess(): Observable<ModelActions.ModelCreateSuccessAction<T>> {\n    return this._actions.pipe(\n      ofType(new this._createAction(<any>null).type)\n    );\n  }\n\n  getUpdateSuccess(): Observable<ModelActions.ModelUpdateSuccessAction<T>> {\n    return this._actions.pipe(\n      ofType(new this._updateAction(<any>null).type)\n    );\n  }\n\n  getPatchSuccess(): Observable<ModelActions.ModelUpdateSuccessAction<T>> {\n    return this._actions.pipe(\n      ofType(new this._patchAction(<any>null).type)\n    );\n  }\n\n  getDeleteSuccess(): Observable<ModelActions.ModelDeleteSuccessAction<T>> {\n    return this._actions.pipe(\n      ofType(new this._deleteAction(<any>null).type)\n    );\n  }\n\n  getDeleteAllSuccess(): Observable<ModelActions.ModelDeleteAllSuccessAction<T>> {\n    return this._actions.pipe(\n      ofType(new this._deleteAllAction(<any>null).type)\n    );\n  }\n\n  get(id: number): void {\n    this._store.dispatch(createGetAction<A1>(this._getAction, id));\n  }\n\n  list(options?: ModelListParams): void {\n    this._store.dispatch(createListAction<A2>(this._listAction, options || {}));\n  }\n\n  create(data: T): void {\n    this._store.dispatch(createCreateAction<A3, T>(this._createAction, data));\n  }\n\n  update(data: T): void {\n    this._store.dispatch(createUpdateAction<A4, T>(this._updateAction, data));\n  }\n\n  patch(data: T): void {\n    this._store.dispatch(createPatchAction<A5, T>(this._patchAction, data));\n  }\n\n  delete(data: T): void {\n    this._store.dispatch(createDeleteAction<A6, T>(this._deleteAction, data));\n  }\n\n  deleteAll(data: T[]): void {\n    this._store.dispatch(createDeleteAllAction<A7, T>(this._deleteAllAction, data));\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {InjectionToken} from '@angular/core';\n\nimport {ModelOptions} from './model-options';\n\n\nexport const MODEL_OPTIONS: InjectionToken<ModelOptions> =\n  new InjectionToken<ModelOptions>('MODEL_OPTIONS', {\n    providedIn: 'root',\n    factory: () => ({\n      baseApiUrl: '/'\n    })\n  });\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {HttpClient} from '@angular/common/http';\n\nimport {Observable} from 'rxjs';\n\nimport {Model, ModelListParams, ModelListResult} from '@gngt/core/common';\nimport {ModelOptions} from './model-options';\n\n\nexport abstract class ModelManager<M extends Model> {\n  protected get endPoint(): string { return this._endPoint; }\n\n  private _baseUrl: string;\n\n  constructor(\n    private _config: ModelOptions, private _endPoint: string, protected _http: HttpClient\n  ) {\n    this._baseUrl = `${this._config.baseApiUrl}${this._endPoint}`;\n  }\n\n  get(id: number): Observable<M> {\n    return this._http.get<M>(this._getObjectUrl(id));\n  }\n\n  list(options?: ModelListParams): Observable<ModelListResult<M>> {\n    const params = this._listParamsToQueryParameters(options);\n    return this._http.get<ModelListResult<M>>(`${this._getListUrl()}${params}`);\n  }\n\n  create(data: M): Observable<M> {\n    return this._http.post<M>(this._getListUrl(), data);\n  }\n\n  update(id: number, data: M): Observable<M> {\n    return this._http.put<M>(this._getObjectUrl(id), data);\n  }\n\n  patch(id: number, data: M): Observable<M> {\n    return this._http.patch<M>(this._getObjectUrl(id), data);\n  }\n\n  delete(id: number): Observable<M> {\n    return this._http.delete<M>(this._getObjectUrl(id));\n  }\n\n  deleteAll(ids: number[]): Observable<M> {\n    let url = `${this._baseUrl}/delete_all`;\n    if (this._config.addTrailingSlash) {\n      url = `${url}/`;\n    }\n    return this._http.post<M>(url, {ids});\n  }\n\n  private _getObjectUrl(id: number): string {\n    let url = `${this._baseUrl}/${id}`;\n    if (this._config.addTrailingSlash) {\n      url = `${url}/`;\n    }\n    return url;\n  }\n\n  private _getListUrl(): string {\n    let url = this._baseUrl;\n    if (this._config.addTrailingSlash) {\n      url = `${url}/`;\n    }\n    return url;\n  }\n\n  private _listParamsToQueryParameters(options?: ModelListParams): string {\n    let params = '';\n    const paramsArray: string[] = [];\n    if (options) {\n      if (options.limit) {\n        paramsArray.push(`limit=${options.limit}`);\n      }\n      if (options.start) {\n        paramsArray.push(`start=${options.start}`);\n      }\n      if (options.sort) {\n        const props = Object.keys(options.sort);\n        paramsArray.push(`sort=${props.map(p => `${p}:${options.sort![p]}`).join(',')}`);\n      }\n      if (options.fields) {\n        paramsArray.push(`fields=${options.fields.join(',')}`);\n      }\n      if (options.joins) {\n        paramsArray.push(`joins=${options.joins.map(j => {\n          const join = `${j.model}.${j.property}`;\n          if (j.fields) {\n            return `${join}.${j.fields.join(';')}`;\n          }\n          return join;\n        }).join(',')}`);\n      }\n      if (paramsArray.length > 0) {\n        params = `?${paramsArray.join('&')}`;\n      }\n    }\n    return params;\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {of as obsOf, Observable} from 'rxjs';\nimport {catchError, map, switchMap} from 'rxjs/operators';\n\nimport {Action} from '@ngrx/store';\nimport {Actions, ofType} from '@ngrx/effects';\n\nimport {Model, ModelListResult} from '@gngt/core/common';\nimport * as ModelActions from './model-actions';\nimport {ModelManager} from './model-manager';\nimport {ModelService} from './model-service';\nimport * as fromModel from './model-reducer';\n\n\nexport abstract class ModelEffects<\n    M extends Model,\n    S extends fromModel.State<M>,\n    A extends Action,\n    A1 extends ModelActions.ModelGetAction,\n    A2 extends ModelActions.ModelListAction,\n    A3 extends ModelActions.ModelCreateAction<M>,\n    A4 extends ModelActions.ModelUpdateAction<M>,\n    A5 extends ModelActions.ModelPatchAction<M>,\n    A6 extends ModelActions.ModelDeleteAction<M>,\n    A7 extends ModelActions.ModelDeleteAllAction<M>> {\n\n  protected readonly modelGet$: Observable<A> = this._actions\n    .pipe(\n      ofType<A1>(this._params.getActionType),\n      switchMap(action =>\n        this._manager.get(action.payload.id)\n          .pipe(\n            map((item: M) => new this._params.getSuccessAction({item})),\n            catchError(error => obsOf(new this._params.getFailureAction({error})))\n          )\n      )\n    );\n\n  protected readonly modelList$: Observable<A> = this._actions\n    .pipe(\n      ofType<A2>(this._params.listActionType),\n      switchMap(action =>\n        this._manager.list(action.payload.params)\n          .pipe(\n            map((result: ModelListResult<M>) => new this._params.listSuccessAction({result})),\n            catchError(error => obsOf(new this._params.listFailureAction({error})))\n          )\n      )\n    );\n\n  protected readonly modelCreate$: Observable<A> = this._actions\n    .pipe(\n      ofType<A3>(this._params.createActionType),\n      switchMap(action =>\n        this._manager.create(action.payload.item)\n          .pipe(\n            map((item: M) => new this._params.createSuccessAction({item})),\n            catchError(error => obsOf(new this._params.createFailureAction({error})))\n          )\n      )\n    );\n\n  protected readonly modelUpdate$: Observable<A> = this._actions\n    .pipe(\n      ofType<A4>(this._params.updateActionType),\n      switchMap(action =>\n        this._manager.update(action.payload.item.id, action.payload.item)\n          .pipe(\n            map((item: M) => new this._params.updateSuccessAction({item})),\n            catchError(error => obsOf(new this._params.updateFailureAction({error})))\n          )\n      )\n    );\n\n  protected readonly modelPatch$: Observable<A> = this._actions\n    .pipe(\n      ofType<A5>(this._params.patchActionType),\n      switchMap(action =>\n        this._manager.patch(action.payload.item.id, action.payload.item)\n          .pipe(\n            map((item: M) => new this._params.patchSuccessAction({item})),\n            catchError(error => obsOf(new this._params.patchFailureAction({error})))\n          )\n      )\n    );\n\n  protected readonly modelDelete$: Observable<A> = this._actions\n    .pipe(\n      ofType<A6>(this._params.deleteActionType),\n      switchMap(action =>\n        this._manager.delete(action.payload.item.id)\n          .pipe(\n            map(() => new this._params.deleteSuccessAction({item: action.payload.item})),\n            catchError(error => obsOf(new this._params.deleteFailureAction({error})))\n          )\n      )\n    );\n\n  protected readonly modelDeleteAll$: Observable<A> = this._actions\n    .pipe(\n      ofType<A7>(this._params.deleteAllActionType),\n      switchMap(action =>\n        this._manager.deleteAll(action.payload.items.map(i => i.id))\n          .pipe(\n            map(() => new this._params.deleteAllSuccessAction({items: action.payload.items})),\n            catchError(error => obsOf(new this._params.deleteAllFailureAction({error})))\n          )\n      )\n    );\n\n  constructor(\n    protected _actions: Actions,\n    protected _service: ModelService<M, S, A1, A2, A3, A4, A5, A6, A7>,\n    protected _manager: ModelManager<M>,\n    private _params: {\n      getActionType: string,\n      getSuccessAction: new (p: {item: M}) => A,\n      getFailureAction: new (p: {error: any}) => A,\n      listActionType: string,\n      listSuccessAction: new (p: {result: ModelListResult<M>}) => A,\n      listFailureAction: new (p: {error: any}) => A,\n      createActionType: string,\n      createSuccessAction: new (p: {item: M}) => A,\n      createFailureAction: new (p: {error: any}) => A,\n      updateActionType: string,\n      updateSuccessAction: new (p: {item: M}) => A,\n      updateFailureAction: new (p: {error: any}) => A,\n      patchActionType: string,\n      patchSuccessAction: new (p: {item: M}) => A,\n      patchFailureAction: new (p: {error: any}) => A,\n      deleteActionType: string,\n      deleteSuccessAction: new (p: {item: M}) => A,\n      deleteFailureAction: new (p: {error: any}) => A,\n      deleteAllActionType: string,\n      deleteAllSuccessAction: new (p: {items: M[]}) => A,\n      deleteAllFailureAction: new (p: {error: any}) => A\n    }\n  ) { }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Model} from '@gngt/core/common';\n\nimport {State} from './model-reducer';\n\nexport * from './model-reducer';\n\nexport interface ModelPackageState<M extends Model> {\n  [model: string]: State<M>;\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Action} from '@ngrx/store';\n\nimport {Model, ModelGetParams, ModelListParams, ModelListResult} from '@gngt/core/common';\nimport * as ModelActions from './model-actions';\n\n\nexport interface State<M extends Model> {\n  get: {\n    loading: boolean;\n    options: ModelGetParams;\n    id: number | null;\n    object: M | null;\n    error: any;\n  };\n  list: {\n    loading: boolean;\n    options: ModelListParams;\n    objects: ModelListResult<M> | null;\n    error: any;\n  };\n  create: {\n    loading: boolean;\n    object: M | null;\n    error: any;\n  };\n  update: {\n    loading: boolean;\n    id: number | null;\n    object: M | null;\n    error: any;\n  };\n  patch: {\n    loading: boolean;\n    id: number | null;\n    object: M | null;\n    error: any;\n  };\n  delete: {\n    loading: boolean;\n    id: number | null;\n    object: M | null;\n    error: any;\n  };\n  deleteAll: {\n    loading: boolean;\n    ids: number[] | null;\n    objects: M[] | null;\n    error: any;\n  };\n}\n\nexport function generateInitialModelState<M extends Model>(): State<M> {\n  return {\n    get: {\n      loading: false,\n      options: {id: null},\n      id: null,\n      object: null,\n      error: null\n    },\n    list: {\n      loading: false,\n      options: {},\n      objects: null,\n      error: null\n    },\n    create: {\n      loading: false,\n      object: null,\n      error: null\n    },\n    update: {\n      loading: false,\n      id: null,\n      object: null,\n      error: null\n    },\n    patch: {\n      loading: false,\n      id: null,\n      object: null,\n      error: null\n    },\n    delete: {\n      loading: false,\n      id: null,\n      object: null,\n      error: null\n    },\n    deleteAll: {\n      loading: false,\n      ids: null,\n      objects: null,\n      error: null\n    }\n  };\n}\n\nexport function modelReducer<M extends Model>(\n  state: State<M>,\n  action: Action,\n  actionTypes: ModelActions.ModelActionTypes\n): State<M> {\n  switch (action.type) {\n\n    case actionTypes.GET:\n    return {\n      ...state,\n      get: {\n        ...state.get,\n        loading: true,\n        options: {id: null},\n        id: (<ModelActions.ModelGetAction>action).payload.id,\n        object: null,\n        error: null\n      }\n    };\n\n    case actionTypes.GET_SUCCESS:\n    return {\n      ...state,\n      get: {\n        ...state.get,\n        loading: false,\n        object: (<ModelActions.ModelGetSuccessAction<M>>action).payload.item,\n        error: null\n      }\n    };\n\n    case actionTypes.GET_FAILURE:\n    return {\n      ...state,\n      get: {\n        ...state.get,\n        loading: false,\n        object: null,\n        error: (<ModelActions.ModelGetFailureAction>action).payload.error\n      }\n    };\n\n    case actionTypes.LIST:\n    return {\n      ...state,\n      list: {\n        ...state.list,\n        loading: true,\n        options: (<ModelActions.ModelListAction>action).payload.params,\n        objects: null,\n        error: null\n      }\n    };\n\n    case actionTypes.LIST_SUCCESS:\n    return {\n      ...state,\n      list: {\n        ...state.list,\n        loading: false,\n        objects: (<ModelActions.ModelListSuccessAction<M>>action).payload.result,\n        error: null\n      }\n    };\n\n    case actionTypes.LIST_FAILURE:\n    return {\n      ...state,\n      list: {\n        ...state.list,\n        loading: false,\n        objects: null,\n        error: (<ModelActions.ModelListFailureAction>action).payload.error\n      }\n    };\n\n    case actionTypes.CREATE:\n    return {\n      ...state,\n      create: {\n        ...state.create,\n        loading: true,\n        object: (<ModelActions.ModelCreateAction<M>>action).payload.item,\n        error: null\n      }\n    };\n\n    case actionTypes.CREATE_SUCCESS:\n    return {\n      ...state,\n      create: {\n        ...state.create,\n        loading: false,\n        object: (<ModelActions.ModelCreateSuccessAction<M>>action).payload.item,\n        error: null\n      }\n    };\n\n    case actionTypes.CREATE_FAILURE:\n    return {\n      ...state,\n      create: {\n        ...state.create,\n        loading: false,\n        object: null,\n        error: (<ModelActions.ModelCreateFailureAction>action).payload.error\n      }\n    };\n\n    case actionTypes.UPDATE:\n    return {\n      ...state,\n      update: {\n        ...state.update,\n        loading: true,\n        id: (<ModelActions.ModelUpdateAction<M>>action).payload.item.id,\n        object: (<ModelActions.ModelUpdateAction<M>>action).payload.item,\n        error: null\n      }\n    };\n\n    case actionTypes.UPDATE_SUCCESS:\n    return {\n      ...state,\n      update: {\n        ...state.update,\n        loading: false,\n        object: (<ModelActions.ModelUpdateSuccessAction<M>>action).payload.item,\n        error: null\n      }\n    };\n\n    case actionTypes.UPDATE_FAILURE:\n    return {\n      ...state,\n      update: {\n        ...state.update,\n        loading: false,\n        object: null,\n        error: (<ModelActions.ModelUpdateFailureAction>action).payload.error\n      }\n    };\n\n    case actionTypes.PATCH:\n    return {\n      ...state,\n      patch: {\n        ...state.patch,\n        loading: true,\n        id: (<ModelActions.ModelPatchAction<M>>action).payload.item.id,\n        object: (<ModelActions.ModelPatchAction<M>>action).payload.item,\n        error: null\n      }\n    };\n\n    case actionTypes.PATCH_SUCCESS:\n    return {\n      ...state,\n      patch: {\n        ...state.patch,\n        loading: false,\n        object: (<ModelActions.ModelPatchSuccessAction<M>>action).payload.item,\n        error: null\n      }\n    };\n\n    case actionTypes.PATCH_FAILURE:\n    return {\n      ...state,\n      patch: {\n        ...state.patch,\n        loading: false,\n        object: null,\n        error: (<ModelActions.ModelPatchFailureAction>action).payload.error\n      }\n    };\n\n    case actionTypes.DELETE:\n    return {\n      ...state,\n      delete: {\n        ...state.delete,\n        loading: true,\n        id: (<ModelActions.ModelDeleteAction<M>>action).payload.item.id,\n        object: null,\n        error: null\n      }\n    };\n\n    case actionTypes.DELETE_SUCCESS:\n    return {\n      ...state,\n      delete: {\n        ...state.delete,\n        loading: false,\n        object: (<ModelActions.ModelDeleteSuccessAction<M>>action).payload.item,\n        error: null\n      }\n    };\n\n    case actionTypes.DELETE_FAILURE:\n    return {\n      ...state,\n      delete: {\n        ...state.delete,\n        loading: false,\n        object: null,\n        error: (<ModelActions.ModelDeleteFailureAction>action).payload.error\n      }\n    };\n\n    case actionTypes.DELETE_ALL:\n    return {\n      ...state,\n      deleteAll: {\n        ...state.deleteAll,\n        loading: true,\n        ids: (<ModelActions.ModelDeleteAllAction<M>>action).payload.items.map(i => i.id),\n        objects: null,\n        error: null\n      }\n    };\n\n    case actionTypes.DELETE_ALL_SUCCESS:\n    return {\n      ...state,\n      deleteAll: {\n        ...state.deleteAll,\n        loading: false,\n        objects: (<ModelActions.ModelDeleteAllSuccessAction<M>>action).payload.items,\n        error: null\n      }\n    };\n\n    case actionTypes.DELETE_ALL_FAILURE:\n    return {\n      ...state,\n      deleteAll: {\n        ...state.deleteAll,\n        loading: false,\n        objects: null,\n        error: (<ModelActions.ModelDeleteAllFailureAction>action).payload.error\n      }\n    };\n\n    default:\n    return state;\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Action} from '@ngrx/store';\n\nimport {Model, ModelListParams, ModelListResult} from '@gngt/core/common';\nimport {type} from '@gngt/core/reducers';\n\n\nexport abstract class ModelActionTypes {\n  GET: string;\n  GET_FAILURE: string;\n  GET_SUCCESS: string;\n  LIST: string;\n  LIST_SUCCESS: string;\n  LIST_FAILURE: string;\n  CREATE: string;\n  CREATE_SUCCESS: string;\n  CREATE_FAILURE: string;\n  UPDATE: string;\n  UPDATE_SUCCESS: string;\n  UPDATE_FAILURE: string;\n  PATCH: string;\n  PATCH_SUCCESS: string;\n  PATCH_FAILURE: string;\n  DELETE: string;\n  DELETE_SUCCESS: string;\n  DELETE_FAILURE: string;\n  DELETE_ALL: string;\n  DELETE_ALL_SUCCESS: string;\n  DELETE_ALL_FAILURE: string;\n}\n\nexport function generateModelActionTypes(typeName: string): ModelActionTypes {\n  return {\n    LIST: type(`[${typeName}] List`),\n    LIST_FAILURE: type(`[${typeName}] List failure`),\n    LIST_SUCCESS: type(`[${typeName}] List success`),\n    GET: type(`[${typeName}] Get`),\n    GET_FAILURE: type(`[${typeName}] Get failure`),\n    GET_SUCCESS: type(`[${typeName}] Get success`),\n    CREATE: type(`[${typeName}] Create`),\n    CREATE_FAILURE: type(`[${typeName}] Create failure`),\n    CREATE_SUCCESS: type(`[${typeName}] Create success`),\n    UPDATE: type(`[${typeName}] Update`),\n    UPDATE_FAILURE: type(`[${typeName}] Update failure`),\n    UPDATE_SUCCESS: type(`[${typeName}] Update success`),\n    PATCH: type(`[${typeName}] Patch`),\n    PATCH_FAILURE: type(`[${typeName}] Patch failure`),\n    PATCH_SUCCESS: type(`[${typeName}] Patch success`),\n    DELETE: type(`[${typeName}] Delete`),\n    DELETE_FAILURE: type(`[${typeName}] Delete failure`),\n    DELETE_SUCCESS: type(`[${typeName}] Delete success`),\n    DELETE_ALL: type(`[${typeName}] Delete all`),\n    DELETE_ALL_FAILURE: type(`[${typeName}] Delete all failure`),\n    DELETE_ALL_SUCCESS: type(`[${typeName}] Delete all success`)\n  };\n}\n\nexport abstract class ModelGetAction implements Action {\n  abstract type: string;\n  constructor(public payload: {id: number}) { }\n}\nexport abstract class ModelGetSuccessAction<T extends Model> implements Action {\n  abstract type: string;\n  constructor(public payload: {item: T}) { }\n}\nexport abstract class ModelGetFailureAction implements Action {\n  abstract type: string;\n  constructor(public payload: {error: any}) { }\n}\n\nexport abstract class ModelListAction implements Action {\n  abstract type: string;\n  constructor(public payload: {params: ModelListParams}) { }\n}\nexport abstract class ModelListSuccessAction<T extends Model> implements Action {\n  abstract type: string;\n  constructor(public payload: {result: ModelListResult<T>}) { }\n}\nexport abstract class ModelListFailureAction implements Action {\n  abstract type: string;\n  constructor(public payload: {error: any}) { }\n}\n\nexport abstract class ModelCreateAction<T extends Model> implements Action {\n  abstract type: string;\n  constructor(public payload: {item: T}) { }\n}\nexport abstract class ModelCreateSuccessAction<T extends Model> implements Action {\n  abstract type: string;\n  constructor(public payload: {item: T}) { }\n}\nexport abstract class ModelCreateFailureAction implements Action {\n  abstract type: string;\n  constructor(public payload: {error: any}) { }\n}\n\nexport abstract class ModelUpdateAction<T extends Model> implements Action {\n  abstract type: string;\n  constructor(public payload: {item: T}) { }\n}\nexport abstract class ModelUpdateSuccessAction<T extends Model> implements Action {\n  abstract type: string;\n  constructor(public payload: {item: T}) { }\n}\nexport abstract class ModelUpdateFailureAction implements Action {\n  abstract type: string;\n  constructor(public payload: {error: any}) { }\n}\n\nexport abstract class ModelPatchAction<T extends Model> implements Action {\n  abstract type: string;\n  constructor(public payload: {item: T}) { }\n}\nexport abstract class ModelPatchSuccessAction<T extends Model> implements Action {\n  abstract type: string;\n  constructor(public payload: {item: T}) { }\n}\nexport abstract class ModelPatchFailureAction implements Action {\n  abstract type: string;\n  constructor(public payload: {error: any}) { }\n}\n\nexport abstract class ModelDeleteAction<T extends Model> implements Action {\n  abstract type: string;\n  constructor(public payload: {item: T}) { }\n}\nexport abstract class ModelDeleteSuccessAction<T extends Model> implements Action {\n  abstract type: string;\n  constructor(public payload: {item: T}) { }\n}\nexport abstract class ModelDeleteFailureAction implements Action {\n  abstract type: string;\n  constructor(public payload: {error: any}) { }\n}\n\nexport abstract class ModelDeleteAllAction<T extends Model> implements Action {\n  abstract type: string;\n  constructor(public payload: {items: T[]}) { }\n}\nexport abstract class ModelDeleteAllSuccessAction<T extends Model> implements Action {\n  abstract type: string;\n  constructor(public payload: {items: T[]}) { }\n}\nexport abstract class ModelDeleteAllFailureAction implements Action {\n  abstract type: string;\n  constructor(public payload: {error: any}) { }\n}\n"],"names":["obsOf","tslib_1.__assign"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AM2BA;;;;IAAA,SAAA,gBAAA,GAAA;KAsBC;IAAD,OAAA,gBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;AAED,AAAA,SAAgB,wBAAwB,CAAC,QAAgB,EAAzD;IACE,OAAO;QACL,IAAI,EAAE,IAAI,CAAC,GAAf,GAAmB,QAAQ,GAA3B,QAAmC,CAAC;QAChC,YAAY,EAAE,IAAI,CAAC,GAAvB,GAA2B,QAAQ,GAAnC,gBAAmD,CAAC;QAChD,YAAY,EAAE,IAAI,CAAC,GAAvB,GAA2B,QAAQ,GAAnC,gBAAmD,CAAC;QAChD,GAAG,EAAE,IAAI,CAAC,GAAd,GAAkB,QAAQ,GAA1B,OAAiC,CAAC;QAC9B,WAAW,EAAE,IAAI,CAAC,GAAtB,GAA0B,QAAQ,GAAlC,eAAiD,CAAC;QAC9C,WAAW,EAAE,IAAI,CAAC,GAAtB,GAA0B,QAAQ,GAAlC,eAAiD,CAAC;QAC9C,MAAM,EAAE,IAAI,CAAC,GAAjB,GAAqB,QAAQ,GAA7B,UAAuC,CAAC;QACpC,cAAc,EAAE,IAAI,CAAC,GAAzB,GAA6B,QAAQ,GAArC,kBAAuD,CAAC;QACpD,cAAc,EAAE,IAAI,CAAC,GAAzB,GAA6B,QAAQ,GAArC,kBAAuD,CAAC;QACpD,MAAM,EAAE,IAAI,CAAC,GAAjB,GAAqB,QAAQ,GAA7B,UAAuC,CAAC;QACpC,cAAc,EAAE,IAAI,CAAC,GAAzB,GAA6B,QAAQ,GAArC,kBAAuD,CAAC;QACpD,cAAc,EAAE,IAAI,CAAC,GAAzB,GAA6B,QAAQ,GAArC,kBAAuD,CAAC;QACpD,KAAK,EAAE,IAAI,CAAC,GAAhB,GAAoB,QAAQ,GAA5B,SAAqC,CAAC;QAClC,aAAa,EAAE,IAAI,CAAC,GAAxB,GAA4B,QAAQ,GAApC,iBAAqD,CAAC;QAClD,aAAa,EAAE,IAAI,CAAC,GAAxB,GAA4B,QAAQ,GAApC,iBAAqD,CAAC;QAClD,MAAM,EAAE,IAAI,CAAC,GAAjB,GAAqB,QAAQ,GAA7B,UAAuC,CAAC;QACpC,cAAc,EAAE,IAAI,CAAC,GAAzB,GAA6B,QAAQ,GAArC,kBAAuD,CAAC;QACpD,cAAc,EAAE,IAAI,CAAC,GAAzB,GAA6B,QAAQ,GAArC,kBAAuD,CAAC;QACpD,UAAU,EAAE,IAAI,CAAC,GAArB,GAAyB,QAAQ,GAAjC,cAA+C,CAAC;QAC5C,kBAAkB,EAAE,IAAI,CAAC,GAA7B,GAAiC,QAAQ,GAAzC,sBAA+D,CAAC;QAC5D,kBAAkB,EAAE,IAAI,CAAC,GAA7B,GAAiC,QAAQ,GAAzC,sBAA+D,CAAC;KAC7D,CAAC;CACH;;;;AAED;;;;IAEE,SAAF,cAAA,CAAqB,OAAqB,EAA1C;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAc;KAAK;IAC/C,OAAA,cAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;AACD;;;;;IAEE,SAAF,qBAAA,CAAqB,OAAkB,EAAvC;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAW;KAAK;IAC5C,OAAA,qBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;AACD;;;;IAEE,SAAF,qBAAA,CAAqB,OAAqB,EAA1C;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAc;KAAK;IAC/C,OAAA,qBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;AAED;;;;IAEE,SAAF,eAAA,CAAqB,OAAkC,EAAvD;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAA2B;KAAK;IAC5D,OAAA,eAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;AACD;;;;;IAEE,SAAF,sBAAA,CAAqB,OAAqC,EAA1D;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAA8B;KAAK;IAC/D,OAAA,sBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;AACD;;;;IAEE,SAAF,sBAAA,CAAqB,OAAqB,EAA1C;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAc;KAAK;IAC/C,OAAA,sBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;AAED;;;;;IAEE,SAAF,iBAAA,CAAqB,OAAkB,EAAvC;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAW;KAAK;IAC5C,OAAA,iBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;AACD;;;;;IAEE,SAAF,wBAAA,CAAqB,OAAkB,EAAvC;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAW;KAAK;IAC5C,OAAA,wBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;AACD;;;;IAEE,SAAF,wBAAA,CAAqB,OAAqB,EAA1C;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAc;KAAK;IAC/C,OAAA,wBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;AAED;;;;;IAEE,SAAF,iBAAA,CAAqB,OAAkB,EAAvC;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAW;KAAK;IAC5C,OAAA,iBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;AACD;;;;;IAEE,SAAF,wBAAA,CAAqB,OAAkB,EAAvC;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAW;KAAK;IAC5C,OAAA,wBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;AACD;;;;IAEE,SAAF,wBAAA,CAAqB,OAAqB,EAA1C;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAc;KAAK;IAC/C,OAAA,wBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;AAED;;;;;IAEE,SAAF,gBAAA,CAAqB,OAAkB,EAAvC;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAW;KAAK;IAC5C,OAAA,gBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;AACD;;;;;IAEE,SAAF,uBAAA,CAAqB,OAAkB,EAAvC;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAW;KAAK;IAC5C,OAAA,uBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;AACD;;;;IAEE,SAAF,uBAAA,CAAqB,OAAqB,EAA1C;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAc;KAAK;IAC/C,OAAA,uBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;AAED;;;;;IAEE,SAAF,iBAAA,CAAqB,OAAkB,EAAvC;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAW;KAAK;IAC5C,OAAA,iBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;AACD;;;;;IAEE,SAAF,wBAAA,CAAqB,OAAkB,EAAvC;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAW;KAAK;IAC5C,OAAA,wBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;AACD;;;;IAEE,SAAF,wBAAA,CAAqB,OAAqB,EAA1C;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAc;KAAK;IAC/C,OAAA,wBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;AAED;;;;;IAEE,SAAF,oBAAA,CAAqB,OAAqB,EAA1C;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAc;KAAK;IAC/C,OAAA,oBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;AACD;;;;;IAEE,SAAF,2BAAA,CAAqB,OAAqB,EAA1C;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAc;KAAK;IAC/C,OAAA,2BAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;AACD;;;;IAEE,SAAF,2BAAA,CAAqB,OAAqB,EAA1C;QAAqB,IAArB,CAAA,OAA4B,GAAP,OAAO,CAAc;KAAK;IAC/C,OAAA,2BAAC,CAAD;CAAC,EAAD,CAAA,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AD9FD,AAAA,SAAgB,yBAAyB,GAAzC;IACE,OAAO;QACL,GAAG,EAAE;YACH,OAAO,EAAE,KAAK;YACd,OAAO,EAAE,EAAC,EAAE,EAAE,IAAI,EAAC;YACnB,EAAE,EAAE,IAAI;YACR,MAAM,EAAE,IAAI;YACZ,KAAK,EAAE,IAAI;SACZ;QACD,IAAI,EAAE;YACJ,OAAO,EAAE,KAAK;YACd,OAAO,EAAE,EAAE;YACX,OAAO,EAAE,IAAI;YACb,KAAK,EAAE,IAAI;SACZ;QACD,MAAM,EAAE;YACN,OAAO,EAAE,KAAK;YACd,MAAM,EAAE,IAAI;YACZ,KAAK,EAAE,IAAI;SACZ;QACD,MAAM,EAAE;YACN,OAAO,EAAE,KAAK;YACd,EAAE,EAAE,IAAI;YACR,MAAM,EAAE,IAAI;YACZ,KAAK,EAAE,IAAI;SACZ;QACD,KAAK,EAAE;YACL,OAAO,EAAE,KAAK;YACd,EAAE,EAAE,IAAI;YACR,MAAM,EAAE,IAAI;YACZ,KAAK,EAAE,IAAI;SACZ;QACD,MAAM,EAAE;YACN,OAAO,EAAE,KAAK;YACd,EAAE,EAAE,IAAI;YACR,MAAM,EAAE,IAAI;YACZ,KAAK,EAAE,IAAI;SACZ;QACD,SAAS,EAAE;YACT,OAAO,EAAE,KAAK;YACd,GAAG,EAAE,IAAI;YACT,OAAO,EAAE,IAAI;YACb,KAAK,EAAE,IAAI;SACZ;KACF,CAAC;CACH;;;;;;;;AAED,AAAA,SAAgB,YAAY,CAC1B,KAAe,EACf,MAAc,EACd,WAA0C,EAH5C;IAKE,QAAQ,MAAM,CAAC,IAAI;QAEjB,KAAK,WAAW,CAAC,GAAG;YACpB,OAAJC,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,GAAG,EAFTA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,GAAG,EAHpB,EAIQ,OAAO,EAAE,IAAI,EACb,OAAO,EAAE,EAAC,EAAE,EAAE,IAAI,EAAC,EACnB,EAAE,EAAE,oBAA8B,MAAM,IAAE,OAAO,CAAC,EAAE,EACpD,MAAM,EAAE,IAAI,EACZ,KAAK,EAAE,IAAI,EARnB,CAAA,EAAA,CAAA,CAUM;QAEF,KAAK,WAAW,CAAC,WAAW;YAC5B,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,GAAG,EAFTA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,GAAG,EAHpB,EAIQ,OAAO,EAAE,KAAK,EACd,MAAM,EAAE,oBAAwC,MAAM,IAAE,OAAO,CAAC,IAAI,EACpE,KAAK,EAAE,IAAI,EANnB,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,WAAW;YAC5B,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,GAAG,EAFTA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,GAAG,EAHpB,EAIQ,OAAO,EAAE,KAAK,EACd,MAAM,EAAE,IAAI,EACZ,KAAK,EAAE,oBAAqC,MAAM,IAAE,OAAO,CAAC,KAAK,EANzE,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,IAAI;YACrB,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,IAAI,EAFVA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,IAAI,EAHrB,EAIQ,OAAO,EAAE,IAAI,EACb,OAAO,EAAE,oBAA+B,MAAM,IAAE,OAAO,CAAC,MAAM,EAC9D,OAAO,EAAE,IAAI,EACb,KAAK,EAAE,IAAI,EAPnB,CAAA,EAAA,CAAA,CASM;QAEF,KAAK,WAAW,CAAC,YAAY;YAC7B,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,IAAI,EAFVA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,IAAI,EAHrB,EAIQ,OAAO,EAAE,KAAK,EACd,OAAO,EAAE,oBAAyC,MAAM,IAAE,OAAO,CAAC,MAAM,EACxE,KAAK,EAAE,IAAI,EANnB,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,YAAY;YAC7B,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,IAAI,EAFVA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,IAAI,EAHrB,EAIQ,OAAO,EAAE,KAAK,EACd,OAAO,EAAE,IAAI,EACb,KAAK,EAAE,oBAAsC,MAAM,IAAE,OAAO,CAAC,KAAK,EAN1E,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,MAAM;YACvB,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,MAAM,EAFZA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,MAAM,EAHvB,EAIQ,OAAO,EAAE,IAAI,EACb,MAAM,EAAE,oBAAoC,MAAM,IAAE,OAAO,CAAC,IAAI,EAChE,KAAK,EAAE,IAAI,EANnB,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,cAAc;YAC/B,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,MAAM,EAFZA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,MAAM,EAHvB,EAIQ,OAAO,EAAE,KAAK,EACd,MAAM,EAAE,oBAA2C,MAAM,IAAE,OAAO,CAAC,IAAI,EACvE,KAAK,EAAE,IAAI,EANnB,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,cAAc;YAC/B,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,MAAM,EAFZA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,MAAM,EAHvB,EAIQ,OAAO,EAAE,KAAK,EACd,MAAM,EAAE,IAAI,EACZ,KAAK,EAAE,oBAAwC,MAAM,IAAE,OAAO,CAAC,KAAK,EAN5E,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,MAAM;YACvB,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,MAAM,EAFZA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,MAAM,EAHvB,EAIQ,OAAO,EAAE,IAAI,EACb,EAAE,EAAE,oBAAoC,MAAM,IAAE,OAAO,CAAC,IAAI,CAAC,EAAE,EAC/D,MAAM,EAAE,oBAAoC,MAAM,IAAE,OAAO,CAAC,IAAI,EAChE,KAAK,EAAE,IAAI,EAPnB,CAAA,EAAA,CAAA,CASM;QAEF,KAAK,WAAW,CAAC,cAAc;YAC/B,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,MAAM,EAFZA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,MAAM,EAHvB,EAIQ,OAAO,EAAE,KAAK,EACd,MAAM,EAAE,oBAA2C,MAAM,IAAE,OAAO,CAAC,IAAI,EACvE,KAAK,EAAE,IAAI,EANnB,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,cAAc;YAC/B,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,MAAM,EAFZA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,MAAM,EAHvB,EAIQ,OAAO,EAAE,KAAK,EACd,MAAM,EAAE,IAAI,EACZ,KAAK,EAAE,oBAAwC,MAAM,IAAE,OAAO,CAAC,KAAK,EAN5E,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,KAAK;YACtB,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,KAAK,EAFXA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,KAAK,EAHtB,EAIQ,OAAO,EAAE,IAAI,EACb,EAAE,EAAE,oBAAmC,MAAM,IAAE,OAAO,CAAC,IAAI,CAAC,EAAE,EAC9D,MAAM,EAAE,oBAAmC,MAAM,IAAE,OAAO,CAAC,IAAI,EAC/D,KAAK,EAAE,IAAI,EAPnB,CAAA,EAAA,CAAA,CASM;QAEF,KAAK,WAAW,CAAC,aAAa;YAC9B,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,KAAK,EAFXA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,KAAK,EAHtB,EAIQ,OAAO,EAAE,KAAK,EACd,MAAM,EAAE,oBAA0C,MAAM,IAAE,OAAO,CAAC,IAAI,EACtE,KAAK,EAAE,IAAI,EANnB,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,aAAa;YAC9B,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,KAAK,EAFXA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,KAAK,EAHtB,EAIQ,OAAO,EAAE,KAAK,EACd,MAAM,EAAE,IAAI,EACZ,KAAK,EAAE,oBAAuC,MAAM,IAAE,OAAO,CAAC,KAAK,EAN3E,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,MAAM;YACvB,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,MAAM,EAFZA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,MAAM,EAHvB,EAIQ,OAAO,EAAE,IAAI,EACb,EAAE,EAAE,oBAAoC,MAAM,IAAE,OAAO,CAAC,IAAI,CAAC,EAAE,EAC/D,MAAM,EAAE,IAAI,EACZ,KAAK,EAAE,IAAI,EAPnB,CAAA,EAAA,CAAA,CASM;QAEF,KAAK,WAAW,CAAC,cAAc;YAC/B,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,MAAM,EAFZA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,MAAM,EAHvB,EAIQ,OAAO,EAAE,KAAK,EACd,MAAM,EAAE,oBAA2C,MAAM,IAAE,OAAO,CAAC,IAAI,EACvE,KAAK,EAAE,IAAI,EANnB,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,cAAc;YAC/B,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,MAAM,EAFZA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,MAAM,EAHvB,EAIQ,OAAO,EAAE,KAAK,EACd,MAAM,EAAE,IAAI,EACZ,KAAK,EAAE,oBAAwC,MAAM,IAAE,OAAO,CAAC,KAAK,EAN5E,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,UAAU;YAC3B,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,SAAS,EAFfA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,SAAS,EAH1B,EAIQ,OAAO,EAAE,IAAI,EACb,GAAG,EAAE,oBAAuC,MAAM,IAAE,OAAO,CAAC,KAAK,CAAC,GAAG;;;;oBAAC,UAAA,CAAC,EAA/E,EAAmF,OAAA,CAAC,CAAC,EAAE,CAAvF,EAAuF,EAAC,EAChF,OAAO,EAAE,IAAI,EACb,KAAK,EAAE,IAAI,EAFnB,CAAA,EAAA,CAAA,CAIM;QAEF,KAAK,WAAW,CAAC,kBAAkB;YACnC,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,SAAS,EAFfA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,SAAS,EAH1B,EAIQ,OAAO,EAAE,KAAK,EACd,OAAO,EAAE,oBAA8C,MAAM,IAAE,OAAO,CAAC,KAAK,EAC5E,KAAK,EAAE,IAAI,EANnB,CAAA,EAAA,CAAA,CAQM;QAEF,KAAK,WAAW,CAAC,kBAAkB;YACnC,OAAJA,QAAA,CAAA,EAAA,EACS,KAAK,EADd,EAEM,SAAS,EAFfA,QAAA,CAAA,EAAA,EAGW,KAAK,CAAC,SAAS,EAH1B,EAIQ,OAAO,EAAE,KAAK,EACd,OAAO,EAAE,IAAI,EACb,KAAK,EAAE,oBAA2C,MAAM,IAAE,OAAO,CAAC,KAAK,EAN/E,CAAA,EAAA,CAAA,CAQM;QAEF;YACA,OAAO,KAAK,CAAC;KACd;CACF;;;;;;;;;;ADpVD,AAAA,SAAA,iBAAA,GAAA,GAEC;;;;;;;;;;;;;;;;ADKD,AAAA,IAAA;;;;;IAgGE,SAAF,YAAA,CACc,QAAiB,EACjB,QAAwD,EACxD,QAAyB,EAC3B,OAsBP,EA1BL;QAAE,IAAF,KAAA,GAAA,IAAA,CA2BO;QA1BO,IAAd,CAAA,QAAsB,GAAR,QAAQ,CAAS;QACjB,IAAd,CAAA,QAAsB,GAAR,QAAQ,CAAgD;QACxD,IAAd,CAAA,QAAsB,GAAR,QAAQ,CAAiB;QAC3B,IAAZ,CAAA,OAAmB,GAAP,OAAO,CAsBd;QA9GgB,IAArB,CAAA,SAA8B,GAAkB,IAAI,CAAC,QAAQ;aACxD,IAAI,CACH,MAAM,CAAK,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,EACtC,SAAS;;;;QAAC,UAAA,MAAM,EAAtB;YACQ,OAAA,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC;iBACjC,IAAI,CACH,GAAG;;;;YAAC,UAAC,IAAO,EAAxB,EAA6B,OAAA,IAAI,KAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,EAAC,IAAI,EAApE,IAAoE,EAAC,CAAC,CAAtE,EAAsE,EAAC,EAC3D,UAAU;;;;YAAC,UAAA,KAAK,EAA5B,EAAgC,OAAAD,EAAK,CAAC,IAAI,KAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,EAAC,KAAK,EAA9E,KAA8E,EAAC,CAAC,CAAC,CAAjF,EAAiF,EAAC,CACvE,CADX;SACW,EACJ,CACF,CAAC;QAEe,IAArB,CAAA,UAA+B,GAAkB,IAAI,CAAC,QAAQ;aACzD,IAAI,CACH,MAAM,CAAK,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,EACvC,SAAS;;;;QAAC,UAAA,MAAM,EAAtB;YACQ,OAAA,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;iBACtC,IAAI,CACH,GAAG;;;;YAAC,UAAC,MAA0B,EAA3C,EAAgD,OAAA,IAAI,KAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,EAAC,MAAM,EAA1F,MAA0F,EAAC,CAAC,CAA5F,EAA4F,EAAC,EACjF,UAAU;;;;YAAC,UAAA,KAAK,EAA5B,EAAgC,OAAAA,EAAK,CAAC,IAAI,KAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,EAAC,KAAK,EAA/E,KAA+E,EAAC,CAAC,CAAC,CAAlF,EAAkF,EAAC,CACxE,CADX;SACW,EACJ,CACF,CAAC;QAEe,IAArB,CAAA,YAAiC,GAAkB,IAAI,CAAC,QAAQ;aAC3D,IAAI,CACH,MAAM,CAAK,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,EACzC,SAAS;;;;QAAC,UAAA,MAAM,EAAtB;YACQ,OAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;iBACtC,IAAI,CACH,GAAG;;;;YAAC,UAAC,IAAO,EAAxB,EAA6B,OAAA,IAAI,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAC,IAAI,EAAvE,IAAuE,EAAC,CAAC,CAAzE,EAAyE,EAAC,EAC9D,UAAU;;;;YAAC,UAAA,KAAK,EAA5B,EAAgC,OAAAA,EAAK,CAAC,IAAI,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAC,KAAK,EAAjF,KAAiF,EAAC,CAAC,CAAC,CAApF,EAAoF,EAAC,CAC1E,CADX;SACW,EACJ,CACF,CAAC;QAEe,IAArB,CAAA,YAAiC,GAAkB,IAAI,CAAC,QAAQ;aAC3D,IAAI,CACH,MAAM,CAAK,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,EACzC,SAAS;;;;QAAC,UAAA,MAAM,EAAtB;YACQ,OAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;iBAC9D,IAAI,CACH,GAAG;;;;YAAC,UAAC,IAAO,EAAxB,EAA6B,OAAA,IAAI,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAC,IAAI,EAAvE,IAAuE,EAAC,CAAC,CAAzE,EAAyE,EAAC,EAC9D,UAAU;;;;YAAC,UAAA,KAAK,EAA5B,EAAgC,OAAAA,EAAK,CAAC,IAAI,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAC,KAAK,EAAjF,KAAiF,EAAC,CAAC,CAAC,CAApF,EAAoF,EAAC,CAC1E,CADX;SACW,EACJ,CACF,CAAC;QAEe,IAArB,CAAA,WAAgC,GAAkB,IAAI,CAAC,QAAQ;aAC1D,IAAI,CACH,MAAM,CAAK,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,EACxC,SAAS;;;;QAAC,UAAA,MAAM,EAAtB;YACQ,OAAA,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;iBAC7D,IAAI,CACH,GAAG;;;;YAAC,UAAC,IAAO,EAAxB,EAA6B,OAAA,IAAI,KAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,EAAC,IAAI,EAAtE,IAAsE,EAAC,CAAC,CAAxE,EAAwE,EAAC,EAC7D,UAAU;;;;YAAC,UAAA,KAAK,EAA5B,EAAgC,OAAAA,EAAK,CAAC,IAAI,KAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,EAAC,KAAK,EAAhF,KAAgF,EAAC,CAAC,CAAC,CAAnF,EAAmF,EAAC,CACzE,CADX;SACW,EACJ,CACF,CAAC;QAEe,IAArB,CAAA,YAAiC,GAAkB,IAAI,CAAC,QAAQ;aAC3D,IAAI,CACH,MAAM,CAAK,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,EACzC,SAAS;;;;QAAC,UAAA,MAAM,EAAtB;YACQ,OAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC;iBACzC,IAAI,CACH,GAAG;;;YAAC,YAAhB,EAAsB,OAAA,IAAI,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAC,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,IAAI,EAAC,CAAC,CAAvF,EAAuF,EAAC,EAC5E,UAAU;;;;YAAC,UAAA,KAAK,EAA5B,EAAgC,OAAAA,EAAK,CAAC,IAAI,KAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAC,KAAK,EAAjF,KAAiF,EAAC,CAAC,CAAC,CAApF,EAAoF,EAAC,CAC1E,CADX;SACW,EACJ,CACF,CAAC;QAEe,IAArB,CAAA,eAAoC,GAAkB,IAAI,CAAC,QAAQ;aAC9D,IAAI,CACH,MAAM,CAAK,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAC5C,SAAS;;;;QAAC,UAAA,MAAM,EAAtB;YACQ,OAAA,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG;;;;YAAC,UAAA,CAAC,EAA1D,EAA8D,OAAA,CAAC,CAAC,EAAE,CAAlE,EAAkE,EAAC,CAAC;iBACzD,IAAI,CACH,GAAG;;;YAAC,YAAhB,EAAsB,OAAA,IAAI,KAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,EAAC,KAAK,EAAE,MAAM,CAAC,OAAO,CAAC,KAAK,EAAC,CAAC,CAA5F,EAA4F,EAAC,EACjF,UAAU;;;;YAAC,UAAA,KAAK,EAA5B,EAAgC,OAAAA,EAAK,CAAC,IAAI,KAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,EAAC,KAAK,EAApF,KAAoF,EAAC,CAAC,CAAC,CAAvF,EAAuF,EAAC,CAC7E,CADX;SACW,EACJ,CACF,CAAC;KA6BC;IACP,OAAA,YAAC,CAAD;CAAC,EAAD,CAAA;;;;;;;;;;;ADjIA,AAAA,IAAA;;;;;IAKE,SAAF,YAAA,CACY,OAAqB,EAAU,SAAiB,EAAY,KAAiB,EADzF;QACY,IAAZ,CAAA,OAAmB,GAAP,OAAO,CAAc;QAAU,IAA3C,CAAA,SAAoD,GAAT,SAAS,CAAQ;QAAY,IAAxE,CAAA,KAA6E,GAAL,KAAK,CAAY;QAErF,IAAI,CAAC,QAAQ,GAAG,EAApB,GAAuB,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,SAAW,CAAC;KAC/D;IARD,MAAF,CAAA,cAAA,CAAgB,YAAhB,CAAA,SAAA,EAAA,UAAwB,EAAxB;;;;;QAAE,YAAF,EAAqC,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE;;;KAA7D,CAAA,CAA6D;;;;;IAU3D,YAAF,CAAA,SAAA,CAAA,GAAK;;;;IAAH,UAAI,EAAU,EAAhB;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAI,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC;KAClD,CAAH;;;;;IAEE,YAAF,CAAA,SAAA,CAAA,IAAM;;;;IAAJ,UAAK,OAAyB,EAAhC;;QACA,IAAU,MAAM,GAAG,IAAI,CAAC,4BAA4B,CAAC,OAAO,CAAC,CAA7D;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAqB,EAA9C,GAAiD,IAAI,CAAC,WAAW,EAAE,GAAG,MAAQ,CAAC,CAAC;KAC7E,CAAH;;;;;IAEE,YAAF,CAAA,SAAA,CAAA,MAAQ;;;;IAAN,UAAO,IAAO,EAAhB;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAI,IAAI,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,CAAC;KACrD,CAAH;;;;;;IAEE,YAAF,CAAA,SAAA,CAAA,MAAQ;;;;;IAAN,UAAO,EAAU,EAAE,IAAO,EAA5B;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAI,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;KACxD,CAAH;;;;;;IAEE,YAAF,CAAA,SAAA,CAAA,KAAO;;;;;IAAL,UAAM,EAAU,EAAE,IAAO,EAA3B;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAI,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;KAC1D,CAAH;;;;;IAEE,YAAF,CAAA,SAAA,CAAA,MAAQ;;;;IAAN,UAAO,EAAU,EAAnB;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAI,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC;KACrD,CAAH;;;;;IAEE,YAAF,CAAA,SAAA,CAAA,SAAW;;;;IAAT,UAAU,GAAa,EAAzB;;QACA,IAAQ,GAAG,GAAM,IAAI,CAAC,QAAQ,GAA9B,aAA2C,CAA3C;QACI,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE;YACjC,GAAG,GAAM,GAAG,GAAlB,GAAqB,CAAC;SACjB;QACD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAI,GAAG,EAAE,EAAC,GAAG,EAAvC,GAAuC,EAAC,CAAC,CAAC;KACvC,CAAH;;;;;;IAEU,YAAV,CAAA,SAAA,CAAA,aAAuB;;;;;IAArB,UAAsB,EAAU,EAAlC;;QACA,IAAQ,GAAG,GAAM,IAAI,CAAC,QAAQ,GAA9B,GAAA,GAAkC,EAAI,CAAtC;QACI,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE;YACjC,GAAG,GAAM,GAAG,GAAlB,GAAqB,CAAC;SACjB;QACD,OAAO,GAAG,CAAC;KACZ,CAAH;;;;;IAEU,YAAV,CAAA,SAAA,CAAA,WAAqB;;;;IAAnB,YAAF;;QACA,IAAQ,GAAG,GAAG,IAAI,CAAC,QAAQ,CAA3B;QACI,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE;YACjC,GAAG,GAAM,GAAG,GAAlB,GAAqB,CAAC;SACjB;QACD,OAAO,GAAG,CAAC;KACZ,CAAH;;;;;;IAEU,YAAV,CAAA,SAAA,CAAA,4BAAsC;;;;;IAApC,UAAqC,OAAyB,EAAhE;;QACA,IAAQ,MAAM,GAAG,EAAE,CAAnB;;QACA,IAAU,WAAW,GAAa,EAAE,CAApC;QACI,IAAI,OAAO,EAAE;YACX,IAAI,OAAO,CAAC,KAAK,EAAE;gBACjB,WAAW,CAAC,IAAI,CAAC,QAAzB,GAAkC,OAAO,CAAC,KAAO,CAAC,CAAC;aAC5C;YACD,IAAI,OAAO,CAAC,KAAK,EAAE;gBACjB,WAAW,CAAC,IAAI,CAAC,QAAzB,GAAkC,OAAO,CAAC,KAAO,CAAC,CAAC;aAC5C;YACD,IAAI,OAAO,CAAC,IAAI,EAAE;;gBACxB,IAAc,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAA/C;gBACQ,WAAW,CAAC,IAAI,CAAC,OAAzB,GAAiC,KAAK,CAAC,GAAG;;;;gBAAC,UAAA,CAAC,EAA5C,EAAgD,OAAG,CAAC,GAApD,GAAA,GAAwD,mBAAA,OAAO,CAAC,IAAI,GAAE,CAAC,CAAG,CAA1E,EAA0E,EAAC,CAAC,IAAI,CAAC,GAAG,CAAG,CAAC,CAAC;aAClF;YACD,IAAI,OAAO,CAAC,MAAM,EAAE;gBAClB,WAAW,CAAC,IAAI,CAAC,SAAzB,GAAmC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAG,CAAC,CAAC;aACxD;YACD,IAAI,OAAO,CAAC,KAAK,EAAE;gBACjB,WAAW,CAAC,IAAI,CAAC,QAAzB,GAAkC,OAAO,CAAC,KAAK,CAAC,GAAG;;;;gBAAC,UAAA,CAAC,EAArD;;oBACA,IAAgB,IAAI,GAAM,CAAC,CAAC,KAAK,GAAjC,GAAA,GAAqC,CAAC,CAAC,QAAU,CAAjD;oBACU,IAAI,CAAC,CAAC,MAAM,EAAE;wBACZ,OAAU,IAAI,GAA1B,GAAA,GAA8B,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAG,CAAC;qBACxC;oBACD,OAAO,IAAI,CAAC;iBACb,EAAC,CAAC,IAAI,CAAC,GAAG,CAAG,CAAC,CAAC;aACjB;YACD,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC1B,MAAM,GAAG,GAAjB,GAAqB,WAAW,CAAC,IAAI,CAAC,GAAG,CAAG,CAAC;aACtC;SACF;QACD,OAAO,MAAM,CAAC;KACf,CAAH;IACA,OAAA,YAAC,CAAD;CAAC,EAAD,CAAA;;;;;;;;;;;;AD/FA,AAAA,IAAa,aAAa,GACxB,IAAI,cAAc,CAAe,eAAe,EAAE;IAChD,UAAU,EAAE,MAAM;IAClB,OAAO;;;IAAE,YAAb,EAAmB,QAAC;QACd,UAAU,EAAE,GAAG;KAChB,EAAL,EAAM,CAAA;CACH,CAAC;;;;;;;;;;;;ADEJ,SAAS,eAAe,CACtB,IAAiC,EAAE,EAAU,EAD/C;IAGE,OAAO,IAAI,IAAI,CAAC,EAAC,EAAE,EAArB,EAAqB,EAAC,CAAC,CAAC;CACvB;;;;;;;AACD,SAAS,gBAAgB,CACvB,IAA8C,EAAE,MAAuB,EADzE;IAGE,OAAO,IAAI,IAAI,CAAC,EAAC,MAAM,EAAzB,MAAyB,EAAC,CAAC,CAAC;CAC3B;;;;;;;AACD,SAAS,kBAAkB,CACzB,IAA8B,EAAE,IAAO,EADzC;IAGE,OAAO,IAAI,IAAI,CAAC,EAAC,IAAI,EAAvB,IAAuB,EAAC,CAAC,CAAC;CACzB;;;;;;;AACD,SAAS,kBAAkB,CACzB,IAA8B,EAAE,IAAO,EADzC;IAGE,OAAO,IAAI,IAAI,CAAC,EAAC,IAAI,EAAvB,IAAuB,EAAC,CAAC,CAAC;CACzB;;;;;;;AACD,SAAS,iBAAiB,CACxB,IAA8B,EAAE,IAAO,EADzC;IAGE,OAAO,IAAI,IAAI,CAAC,EAAC,IAAI,EAAvB,IAAuB,EAAC,CAAC,CAAC;CACzB;;;;;;;AACD,SAAS,kBAAkB,CACzB,IAA8B,EAAE,IAAO,EADzC;IAGE,OAAO,IAAI,IAAI,CAAC,EAAC,IAAI,EAAvB,IAAuB,EAAC,CAAC,CAAC;CACzB;;;;;;;AACD,SAAS,qBAAqB,CAC5B,IAAiC,EAAE,KAAU,EAD/C;IAGE,OAAO,IAAI,IAAI,CAAC,EAAC,KAAK,EAAxB,KAAwB,EAAC,CAAC,CAAC;CAC1B;;;;;AAGD,AAAA,IAAA;;;;;IAYE,SAAF,YAAA,CACc,MAA6B,EAC/B,QAAiB,EACjB,UAAwC,EACxC,WAAsD,EACtD,aAAwC,EACxC,aAAwC,EACxC,YAAuC,EACvC,aAAwC,EACxC,gBAA8C,EACtD,aAA+B,EAVnC;QACc,IAAd,CAAA,MAAoB,GAAN,MAAM,CAAuB;QAC/B,IAAZ,CAAA,QAAoB,GAAR,QAAQ,CAAS;QACjB,IAAZ,CAAA,UAAsB,GAAV,UAAU,CAA8B;QACxC,IAAZ,CAAA,WAAuB,GAAX,WAAW,CAA2C;QACtD,IAAZ,CAAA,aAAyB,GAAb,aAAa,CAA2B;QACxC,IAAZ,CAAA,aAAyB,GAAb,aAAa,CAA2B;QACxC,IAAZ,CAAA,YAAwB,GAAZ,YAAY,CAA2B;QACvC,IAAZ,CAAA,aAAyB,GAAb,aAAa,CAA2B;QACxC,IAAZ,CAAA,gBAA4B,GAAhB,gBAAgB,CAA8B;;QAG1D,IAAU,YAAY,GAAG,qBAAqB,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAhE;QACI,IAAI,CAAC,WAAW,GAAG,cAAc,CAAC,YAAY;;;;QAAE,UAAA,CAAC,EAArD,EAAA,0BAA4D,oBAAM,CAAC,IAAE,aAAa,CAAC,CAAC,CAAC,CAAC,GAAtF,EAAsF,EAAC,CAAC;KACrF;;;;IAED,YAAF,CAAA,SAAA,CAAA,aAAe;;;IAAb,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,GAAG,CAAC,OAAO,CAA1E,EAA0E,EAAC,CAAC,CACvE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,aAAe;;;IAAb,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,GAAG,CAAC,OAAO,CAA1E,EAA0E,EAAC,CAAC,CACvE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,QAAU;;;IAAR,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,GAAG,CAAC,EAAE,CAArE,EAAqE,EAAC,CAAC,CAClE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,YAAc;;;IAAZ,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,GAAG,CAAC,MAAM,CAAzE,EAAyE,EAAC,CAAC,CACtE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,WAAa;;;IAAX,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,GAAG,CAAC,KAAK,CAAxE,EAAwE,EAAC,CAAC,CACrE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,cAAgB;;;IAAd,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,IAAI,CAAC,OAAO,CAA3E,EAA2E,EAAC,CAAC,CACxE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,cAAgB;;;IAAd,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,IAAI,CAAC,OAAO,CAA3E,EAA2E,EAAC,CAAC,CACxE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,cAAgB;;;IAAd,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,IAAI,CAAC,OAAO,CAA3E,EAA2E,EAAC,CAAC,CACxE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,YAAc;;;IAAZ,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,IAAI,CAAC,KAAK,CAAzE,EAAyE,EAAC,CAAC,CACtE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,cAAgB;;;IAAd,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAC3C,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAA9B,EAAmC,OAAA,KAAK,CAAC,IAAI,CAAC,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAhF,EAAgF,EAC3E,CAAC,CAAC,CAAC;KACL,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,mBAAqB;;;IAAnB,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD;YACQ,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,EAAE;gBAC1D,OAAO,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;aACjC;YACD,OAAO,CAAC,CAAC;SACV,EAAC,CAAC,CACJ,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,gBAAkB;;;IAAhB,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,MAAM,CAAC,OAAO,CAA7E,EAA6E,EAAC,CAAC,CAC1E,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,eAAiB;;;IAAf,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,MAAM,CAAC,MAAM,CAA5E,EAA4E,EAAC,CAAC,CACzE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,cAAgB;;;IAAd,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,MAAM,CAAC,KAAK,CAA3E,EAA2E,EAAC,CAAC,CACxE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,gBAAkB;;;IAAhB,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,MAAM,CAAC,OAAO,CAA7E,EAA6E,EAAC,CAAC,CAC1E,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,WAAa;;;IAAX,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,MAAM,CAAC,EAAE,CAAxE,EAAwE,EAAC,CAAC,CACrE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,eAAiB;;;IAAf,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,MAAM,CAAC,MAAM,CAA5E,EAA4E,EAAC,CAAC,CACzE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,cAAgB;;;IAAd,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,MAAM,CAAC,KAAK,CAA3E,EAA2E,EAAC,CAAC,CACxE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,eAAiB;;;IAAf,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,KAAK,CAAC,OAAO,CAA5E,EAA4E,EAAC,CAAC,CACzE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,UAAY;;;IAAV,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,KAAK,CAAC,EAAE,CAAvE,EAAuE,EAAC,CAAC,CACpE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,cAAgB;;;IAAd,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,KAAK,CAAC,MAAM,CAA3E,EAA2E,EAAC,CAAC,CACxE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,aAAe;;;IAAb,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,KAAK,CAAC,KAAK,CAA1E,EAA0E,EAAC,CAAC,CACvE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,gBAAkB;;;IAAhB,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,MAAM,CAAC,OAAO,CAA7E,EAA6E,EAAC,CAAC,CAC1E,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,WAAa;;;IAAX,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,MAAM,CAAC,EAAE,CAAxE,EAAwE,EAAC,CAAC,CACrE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,eAAiB;;;IAAf,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,MAAM,CAAC,MAAM,CAA5E,EAA4E,EAAC,CAAC,CACzE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,cAAgB;;;IAAd,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,MAAM,CAAC,KAAK,CAA3E,EAA2E,EAAC,CAAC,CACxE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,mBAAqB;;;IAAnB,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,SAAS,CAAC,OAAO,CAAhF,EAAgF,EAAC,CAAC,CAC7E,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,eAAiB;;;IAAf,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,SAAS,CAAC,GAAG,CAA5E,EAA4E,EAAC,CAAC,CACzE,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,mBAAqB;;;IAAnB,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,SAAS,CAAC,OAAO,CAAhF,EAAgF,EAAC,CAAC,CAC7E,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,iBAAmB;;;IAAjB,YAAF;QACI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW;;;;QAAE,UAAC,KAAK,EAApD,EAAyD,OAAA,KAAK,CAAC,SAAS,CAAC,KAAK,CAA9E,EAA8E,EAAC,CAAC,CAC3E,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,gBAAkB;;;IAAhB,YAAF;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CACvB,MAAM,CAAC,IAAI,IAAI,CAAC,aAAa,oBAAM,IAAI,GAAC,CAAC,IAAI,CAAC,CAC/C,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,gBAAkB;;;IAAhB,YAAF;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CACvB,MAAM,CAAC,IAAI,IAAI,CAAC,aAAa,oBAAM,IAAI,GAAC,CAAC,IAAI,CAAC,CAC/C,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,eAAiB;;;IAAf,YAAF;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CACvB,MAAM,CAAC,IAAI,IAAI,CAAC,YAAY,oBAAM,IAAI,GAAC,CAAC,IAAI,CAAC,CAC9C,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,gBAAkB;;;IAAhB,YAAF;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CACvB,MAAM,CAAC,IAAI,IAAI,CAAC,aAAa,oBAAM,IAAI,GAAC,CAAC,IAAI,CAAC,CAC/C,CAAC;KACH,CAAH;;;;IAEE,YAAF,CAAA,SAAA,CAAA,mBAAqB;;;IAAnB,YAAF;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CACvB,MAAM,CAAC,IAAI,IAAI,CAAC,gBAAgB,oBAAM,IAAI,GAAC,CAAC,IAAI,CAAC,CAClD,CAAC;KACH,CAAH;;;;;IAEE,YAAF,CAAA,SAAA,CAAA,GAAK;;;;IAAH,UAAI,EAAU,EAAhB;QACI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAK,IAAI,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC;KAChE,CAAH;;;;;IAEE,YAAF,CAAA,SAAA,CAAA,IAAM;;;;IAAJ,UAAK,OAAyB,EAAhC;QACI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAK,IAAI,CAAC,WAAW,EAAE,OAAO,IAAI,EAAE,CAAC,CAAC,CAAC;KAC7E,CAAH;;;;;IAEE,YAAF,CAAA,SAAA,CAAA,MAAQ;;;;IAAN,UAAO,IAAO,EAAhB;QACI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,kBAAkB,CAAQ,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC,CAAC;KAC3E,CAAH;;;;;IAEE,YAAF,CAAA,SAAA,CAAA,MAAQ;;;;IAAN,UAAO,IAAO,EAAhB;QACI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,kBAAkB,CAAQ,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC,CAAC;KAC3E,CAAH;;;;;IAEE,YAAF,CAAA,SAAA,CAAA,KAAO;;;;IAAL,UAAM,IAAO,EAAf;QACI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,iBAAiB,CAAQ,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,CAAC;KACzE,CAAH;;;;;IAEE,YAAF,CAAA,SAAA,CAAA,MAAQ;;;;IAAN,UAAO,IAAO,EAAhB;QACI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,kBAAkB,CAAQ,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC,CAAC;KAC3E,CAAH;;;;;IAEE,YAAF,CAAA,SAAA,CAAA,SAAW;;;;IAAT,UAAU,IAAS,EAArB;QACI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,qBAAqB,CAAQ,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC,CAAC;KACjF,CAAH;IACA,OAAA,YAAC,CAAD;CAAC,EAAD,CAAA;;;;;;;;;;;;;;"}