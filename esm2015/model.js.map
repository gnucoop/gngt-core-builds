{"version":3,"file":"model.js","sources":["../../../src/core/model/model-service.ts","../../../src/core/model/model-options-token.ts","../../../src/core/model/model-manager.ts","../../../src/core/model/model-effects.ts","../../../src/core/model/utils.ts","../../../src/core/model/model-generic-action.ts","../../../src/core/model/reducers.ts","../../../src/core/model/model-reducer.ts","../../../src/core/model/model-actions.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Observable, pipe, throwError, UnaryFunction} from 'rxjs';\nimport {filter, map, tap, switchMap} from 'rxjs/operators';\n\nimport {Actions, ofType} from '@ngrx/effects';\nimport {createSelector, createFeatureSelector, MemoizedSelector, select, Store} from '@ngrx/store';\n\nimport * as fromRoot from '@gngt/core/reducers';\n\nimport {\n  Model, ModelGetParams, ModelListParams, ModelListResult, ModelQueryParams\n} from '@gngt/core/common';\nimport * as ModelActions from './model-actions';\nimport {ModelGenericAction} from './model-generic-action';\nimport * as fromModel from './reducers';\nimport {createAction} from './utils';\n\nexport abstract class ModelService<\n  T extends Model,\n  S extends fromModel.State<T>,\n  A extends ModelActions.ModelActionTypes> {\n  protected _modelState: MemoizedSelector<object, S>;\n\n  private _lastGetEntry: UnaryFunction<\n    Observable<fromRoot.State>, Observable<fromModel.ModelGetState<T>>>;\n  private _lastListEntry: UnaryFunction<\n    Observable<fromRoot.State>, Observable<fromModel.ModelListState<T>>>;\n  private _lastCreateEntry: UnaryFunction<\n    Observable<fromRoot.State>, Observable<fromModel.ModelCreateState<T>>>;\n  private _lastPatchEntry: UnaryFunction<\n    Observable<fromRoot.State>, Observable<fromModel.ModelPatchState<T>>>;\n  private _lastUpdateEntry: UnaryFunction<\n    Observable<fromRoot.State>, Observable<fromModel.ModelUpdateState<T>>>;\n  private _lastDeleteEntry: UnaryFunction<\n    Observable<fromRoot.State>, Observable<fromModel.ModelDeleteState<T>>>;\n  private _lastDeleteAllEntry: UnaryFunction<\n    Observable<fromRoot.State>, Observable<fromModel.ModelDeleteAllState<T>>>;\n  private _lastQueryEntry: UnaryFunction<\n    Observable<fromRoot.State>, Observable<fromModel.ModelQueryState<T>>>;\n\n  constructor(\n    protected _store: Store<fromRoot.State>,\n    private _actions: Actions<ModelGenericAction>,\n    private _actionTypes: A,\n    statePrefixes: [string, string]\n  ) {\n    const packageState = createFeatureSelector(statePrefixes[0]);\n    this._modelState = createSelector(packageState, s => <S>(<any>s)[statePrefixes[1]]);\n\n    this._lastGetEntry = pipe(\n      select(createSelector(this._modelState, (state) => state.get)),\n      filter(g => g.length > 0),\n      map(g => g[0]),\n    );\n    this._lastListEntry = pipe(\n      select(createSelector(this._modelState, (state) => state.list)),\n      filter(g => g.length > 0),\n      map(g => g[0]),\n    );\n    this._lastCreateEntry = pipe(\n      select(createSelector(this._modelState, (state) => state.create)),\n      filter(g => g.length > 0),\n      map(g => g[0]),\n    );\n    this._lastPatchEntry = pipe(\n      select(createSelector(this._modelState, (state) => state.patch)),\n      filter(g => g.length > 0),\n      map(g => g[0]),\n    );\n    this._lastUpdateEntry = pipe(\n      select(createSelector(this._modelState, (state) => state.update)),\n      filter(g => g.length > 0),\n      map(g => g[0]),\n    );\n    this._lastDeleteEntry = pipe(\n      select(createSelector(this._modelState, (state) => state.delete)),\n      filter(g => g.length > 0),\n      map(g => g[0]),\n    );\n    this._lastDeleteAllEntry = pipe(\n      select(createSelector(this._modelState, (state) => state.deleteAll)),\n      filter(g => g.length > 0),\n      map(g => g[0]),\n    );\n    this._lastQueryEntry = pipe(\n      select(createSelector(this._modelState, (state) => state.query)),\n      filter(g => g.length > 0),\n      map(g => g[0]),\n    );\n  }\n\n  getGetLoading(): Observable<boolean> {\n    return this._store.pipe(\n      this._lastGetEntry,\n      map(g => g.loading),\n    );\n  }\n\n  getGetOptions(): Observable<ModelGetParams> {\n    return this._store.pipe(\n      this._lastGetEntry,\n      map(g => g.options),\n    );\n  }\n\n  getGetId(): Observable<number | null> {\n    return this._store.pipe(\n      this._lastGetEntry,\n      map(g => g.id),\n    );\n  }\n\n  getGetObject(): Observable<T | null> {\n    return this._store.pipe(\n      this._lastGetEntry,\n      map(g => g.object),\n    );\n  }\n\n  getGetError(): Observable<any> {\n    return this._store.pipe(\n      this._lastGetEntry,\n      map(g => g.error),\n    );\n  }\n\n  getListLoading(): Observable<boolean> {\n    return this._store.pipe(\n      this._lastListEntry,\n      map(g => g.loading),\n    );\n  }\n\n  getListOptions(): Observable<ModelListParams> {\n    return this._store.pipe(\n      this._lastListEntry,\n      map(g => g.options),\n    );\n  }\n\n  getListObjects(): Observable<ModelListResult<T> | null> {\n    return this._store.pipe(\n      this._lastListEntry,\n      map(g => g.objects),\n    );\n  }\n\n  getListError(): Observable<any> {\n    return this._store.pipe(\n      this._lastListEntry,\n      map(g => g.error),\n    );\n  }\n\n  getListHasNext(): Observable<any> {\n    return this._store.pipe(\n      this._lastListEntry,\n      filter(g => g.objects != null),\n      map(g => g.objects!.next),\n    );\n  }\n\n  getListCurrentStart(): Observable<any> {\n    return this._store.pipe(\n      this._lastListEntry,\n      filter(g => g.options != null),\n      map(g => g.options!.start != null ? g.options!.start : 1),\n    );\n  }\n\n  getCreateLoading(): Observable<boolean> {\n    return this._store.pipe(\n      this._lastCreateEntry,\n      map(g => g.loading),\n    );\n  }\n\n  getCreateObject(): Observable<T | null> {\n    return this._store.pipe(\n      this._lastCreateEntry,\n      map(g => g.object),\n    );\n  }\n\n  getCreateError(): Observable<any> {\n    return this._store.pipe(\n      this._lastCreateEntry,\n      map(g => g.error),\n    );\n  }\n\n  getUpdateLoading(): Observable<boolean> {\n    return this._store.pipe(\n      this._lastUpdateEntry,\n      map(g => g.loading),\n    );\n  }\n\n  getUpdateId(): Observable<number | null> {\n    return this._store.pipe(\n      this._lastUpdateEntry,\n      map(g => g.id),\n    );\n  }\n\n  getUpdateObject(): Observable<T | null> {\n    return this._store.pipe(\n      this._lastUpdateEntry,\n      map(g => g.object),\n    );\n  }\n\n  getUpdateError(): Observable<any> {\n    return this._store.pipe(\n      this._lastUpdateEntry,\n      map(g => g.error),\n    );\n  }\n\n  getPatchLoading(): Observable<boolean> {\n    return this._store.pipe(\n      this._lastPatchEntry,\n      map(g => g.loading),\n    );\n  }\n\n  getPatchId(): Observable<number | null> {\n    return this._store.pipe(\n      this._lastPatchEntry,\n      map(g => g.id),\n    );\n  }\n\n  getPatchObject(): Observable<T | null> {\n    return this._store.pipe(\n      this._lastPatchEntry,\n      map(g => g.object),\n    );\n  }\n\n  getPatchError(): Observable<any> {\n    return this._store.pipe(\n      this._lastPatchEntry,\n      map(g => g.error),\n    );\n  }\n\n  getDeleteLoading(): Observable<boolean> {\n    return this._store.pipe(\n      this._lastDeleteEntry,\n      map(g => g.loading),\n    );\n  }\n\n  getDeleteId(): Observable<number | null> {\n    return this._store.pipe(\n      this._lastDeleteEntry,\n      map(g => g.id),\n    );\n  }\n\n  getDeleteObject(): Observable<T | null> {\n    return this._store.pipe(\n      this._lastDeleteEntry,\n      map(g => g.object),\n    );\n  }\n\n  getDeleteError(): Observable<any> {\n    return this._store.pipe(\n      this._lastDeleteEntry,\n      map(g => g.error),\n    );\n  }\n\n  getDeleteAllLoading(): Observable<boolean> {\n    return this._store.pipe(\n      this._lastDeleteAllEntry,\n      map(g => g.loading),\n    );\n  }\n\n  getDeleteAllIds(): Observable<number[] | null> {\n    return this._store.pipe(\n      this._lastDeleteAllEntry,\n      map(g => g.ids),\n    );\n  }\n\n  getDeleteAllObjects(): Observable<T[] | null> {\n    return this._store.pipe(\n      this._lastDeleteAllEntry,\n      map(g => g.objects),\n    );\n  }\n\n  getDeleteAllError(): Observable<any> {\n    return this._store.pipe(\n      this._lastDeleteAllEntry,\n      map(g => g.error),\n    );\n  }\n\n  getQueryLoading(): Observable<boolean> {\n    return this._store.pipe(\n      this._lastQueryEntry,\n      map(g => g.loading),\n    );\n  }\n\n  getQueryOptions(): Observable<ModelQueryParams | null> {\n    return this._store.pipe(\n      this._lastQueryEntry,\n      map(g => g.options),\n    );\n  }\n\n  getQueryObjects(): Observable<ModelListResult<T> | null> {\n    return this._store.pipe(\n      this._lastQueryEntry,\n      map(g => g.objects),\n    );\n  }\n\n  getQueryError(): Observable<any> {\n    return this._store.pipe(\n      this._lastQueryEntry,\n      map(g => g.error),\n    );\n  }\n\n  getQueryHasNext(): Observable<any> {\n    return this._store.pipe(\n      this._lastQueryEntry,\n      filter(g => g.objects != null),\n      map(g => g.objects!.next),\n    );\n  }\n\n  getQueryCurrentStart(): Observable<any> {\n    return this._store.pipe(\n      this._lastQueryEntry,\n      filter(g => g.options != null),\n      map(g => g.options!.start != null ? g.options!.start : 1),\n    );\n  }\n\n  getCreateSuccess(): Observable<ModelActions.ModelCreateSuccessAction<T>> {\n    return this._actions.pipe(\n      ofType(this._actionTypes.CREATE_SUCCESS),\n    );\n  }\n\n  getUpdateSuccess(): Observable<ModelActions.ModelUpdateSuccessAction<T>> {\n    return this._actions.pipe(\n      ofType(this._actionTypes.UPDATE_SUCCESS),\n    );\n  }\n\n  getPatchSuccess(): Observable<ModelActions.ModelUpdateSuccessAction<T>> {\n    return this._actions.pipe(\n      ofType(this._actionTypes.PATCH_SUCCESS),\n    );\n  }\n\n  getDeleteSuccess(): Observable<ModelActions.ModelDeleteSuccessAction<T>> {\n    return this._actions.pipe(\n      ofType(this._actionTypes.DELETE_SUCCESS),\n    );\n  }\n\n  getDeleteAllSuccess(): Observable<ModelActions.ModelDeleteAllSuccessAction<T>> {\n    return this._actions.pipe(\n      ofType(this._actionTypes.DELETE_ALL_SUCCESS),\n    );\n  }\n\n  get(id: number): Observable<T> {\n    const action = createAction<ModelActions.ModelGetAction>({\n      type: this._actionTypes.GET,\n      payload: {id}\n    });\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n      ofType(this._actionTypes.GET_SUCCESS, this._actionTypes.GET_FAILURE),\n      filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n      switchMap(() => this._store),\n      select(createSelector(this._modelState, (state) => state.get)),\n      map(gets => gets.find(g => g.uuid === action.uuid)),\n      filter(get => get != null),\n      tap(get => {\n        if (get!.error != null) {\n          throwError(get!.error);\n        }\n      }),\n      filter(get => get!.object != null),\n      map(get => get!.object!),\n    );\n  }\n\n  list(options?: ModelListParams): Observable<ModelListResult<T>> {\n    const action = createAction<ModelActions.ModelListAction>({\n      type: this._actionTypes.LIST,\n      payload: {params: options || {}}\n    });\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n      ofType(this._actionTypes.LIST_SUCCESS, this._actionTypes.LIST_FAILURE),\n      filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n      switchMap(() => this._store),\n      select(createSelector(this._modelState, (state) => state.list)),\n      map(lists => lists.find(l => l.uuid === action.uuid)),\n      filter(list => list != null),\n      tap(list => {\n        if (list!.error != null) {\n          throwError(list!.error);\n        }\n      }),\n      filter(list => list!.objects != null),\n      map(list => list!.objects!),\n    );\n  }\n\n  create(data: Partial<T>): Observable<T> {\n    const action = createAction<ModelActions.ModelCreateAction<T>>({\n      type: this._actionTypes.CREATE,\n      payload: {item: data},\n    });\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n      ofType(this._actionTypes.CREATE_SUCCESS, this._actionTypes.CREATE_FAILURE),\n      filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n      switchMap(() => this._store),\n      select(createSelector(this._modelState, (state) => state.create)),\n      map(creates => creates.find(c => c.uuid === action.uuid)),\n      filter(creates => creates != null),\n      tap(create => {\n        if (create!.error != null) {\n          throwError(create!.error);\n        }\n      }),\n      filter(create => create!.object != null),\n      map(create => create!.object!),\n    );\n  }\n\n  update(data: T): Observable<T> {\n    const action = createAction<ModelActions.ModelUpdateAction<T>>({\n      type: this._actionTypes.UPDATE,\n      payload: {item: data},\n    });\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n      ofType(this._actionTypes.UPDATE_SUCCESS, this._actionTypes.UPDATE_FAILURE),\n      filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n      switchMap(() => this._store),\n      select(createSelector(this._modelState, (state) => state.update)),\n      map(updates => updates.find(u => u.uuid === action.uuid)),\n      filter(updates => updates != null),\n      tap(update => {\n        if (update!.error != null) {\n          throwError(update!.error);\n        }\n      }),\n      filter(update => update!.object != null),\n      map(update => update!.object!),\n    );\n  }\n\n  patch(data: T): Observable<T> {\n    const action = createAction<ModelActions.ModelPatchAction<T>>({\n      type: this._actionTypes.PATCH,\n      payload: {item: data}\n    });\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n      ofType(this._actionTypes.PATCH_SUCCESS, this._actionTypes.PATCH_FAILURE),\n      filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n      switchMap(() => this._store),\n      select(createSelector(this._modelState, (state) => state.patch)),\n      map(patches => patches.find(p => p.uuid === action.uuid)),\n      filter(patches => patches != null),\n      tap(patch => {\n        if (patch!.error != null) {\n          throwError(patch!.error);\n        }\n      }),\n      filter(patch => patch!.object != null),\n      map(patch => patch!.object!),\n    );\n  }\n\n  delete(data: T): Observable<T> {\n    const action = createAction<ModelActions.ModelDeleteAction<T>>({\n      type: this._actionTypes.DELETE,\n      payload: {item: data}\n    });\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n      ofType(this._actionTypes.DELETE_SUCCESS, this._actionTypes.DELETE_FAILURE),\n      filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n      switchMap(() => this._store),\n      select(createSelector(this._modelState, (state) => state.delete)),\n      map(dels => dels.find(d => d.uuid === action.uuid)),\n      filter(dels => dels != null),\n      tap(del => {\n        if (del!.error != null) {\n          throwError(del!.error);\n        }\n      }),\n      filter(del => del!.object != null),\n      map(del => del!.object!),\n    );\n  }\n\n  deleteAll(data: T[]): Observable<T[]> {\n    const action = createAction<ModelActions.ModelDeleteAllAction<T>>({\n      type: this._actionTypes.DELETE_ALL,\n      payload: {items: data}\n    });\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n      ofType(this._actionTypes.DELETE_ALL_SUCCESS, this._actionTypes.DELETE_ALL_FAILURE),\n      filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n      switchMap(() => this._store),\n      select(createSelector(this._modelState, (state) => state.deleteAll)),\n      map(deleteAlls => deleteAlls.find(d => d.uuid === action.uuid)),\n      filter(deleteAlls => deleteAlls != null),\n      tap(deleteAll => {\n        if (deleteAll!.error != null) {\n          throwError(deleteAll!.error);\n        }\n      }),\n      filter(deleteAll => deleteAll!.objects != null),\n      map(deleteAll => deleteAll!.objects!),\n    );\n  }\n\n  query(options: ModelQueryParams): Observable<ModelListResult<T>> {\n    const action = createAction<ModelActions.ModelQueryAction>({\n      type: this._actionTypes.QUERY,\n      payload: {params: options || {}}\n    });\n    this._store.dispatch(action);\n    const actResult = this._actions.pipe(\n      ofType(this._actionTypes.QUERY_SUCCESS, this._actionTypes.QUERY_FAILURE),\n      filter(a => a.uuid === action.uuid),\n    );\n    return actResult.pipe(\n      switchMap(() => this._store),\n      select(createSelector(this._modelState, (state) => state.query)),\n      map(queries => queries.find(q => q.uuid === action.uuid)),\n      filter(queries => queries != null),\n      tap(query => {\n        if (query!.error != null) {\n          throwError(query!.error);\n        }\n      }),\n      filter(query => query!.objects != null),\n      map(query => query!.objects!),\n    );\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {InjectionToken} from '@angular/core';\n\nimport {ModelOptions} from './model-options';\n\n\nexport const MODEL_OPTIONS: InjectionToken<ModelOptions> =\n  new InjectionToken<ModelOptions>('MODEL_OPTIONS', {\n    providedIn: 'root',\n    factory: () => ({\n      baseApiUrl: '/'\n    })\n  });\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {HttpClient} from '@angular/common/http';\nimport {Optional} from '@angular/core';\n\nimport {Observable} from 'rxjs';\n\nimport {\n  Model, ModelListParams, ModelListResult, ModelManager as BaseModelManager, ModelQueryParams\n} from '@gngt/core/common';\nimport {SyncService} from '@gngt/core/sync';\nimport {ModelOptions} from './model-options';\n\n\nexport abstract class ModelManager<M extends Model> extends BaseModelManager {\n  get endPoint(): string { return this._endPoint; }\n\n  private _baseUrl: string;\n  get baseUrl(): string { return this._baseUrl; }\n\n  private _useTrailingSlash = false;\n\n  constructor(\n    config: ModelOptions, private _endPoint: string,\n    protected _http: HttpClient, @Optional() syncService?: SyncService,\n  ) {\n    super();\n    this._baseUrl = `${config.baseApiUrl}${this._endPoint}`;\n    this._useTrailingSlash = config.addTrailingSlash != null\n      ? config.addTrailingSlash\n      : false;\n    if (syncService != null && config.syncModel) {\n      if (config.tableName == null) {\n        throw new Error(`Table name must be set for model ${this._endPoint}`);\n      }\n      syncService.registerSyncModel(this._baseUrl, config.tableName);\n    }\n  }\n\n  get(id: number): Observable<M> {\n    return this._http.get<M>(this._getObjectUrl(id));\n  }\n\n  list(options?: ModelListParams): Observable<ModelListResult<M>> {\n    const params = this._listParamsToQueryParameters(options);\n    return this._http.get<ModelListResult<M>>(`${this._getListUrl()}${params}`);\n  }\n\n  create(data: M): Observable<M> {\n    return this._http.post<M>(this._getListUrl(), data);\n  }\n\n  update(id: number, data: M): Observable<M> {\n    return this._http.put<M>(this._getObjectUrl(id), data);\n  }\n\n  patch(id: number, data: M): Observable<M> {\n    return this._http.patch<M>(this._getObjectUrl(id), data);\n  }\n\n  delete(id: number): Observable<M> {\n    return this._http.delete<M>(this._getObjectUrl(id));\n  }\n\n  deleteAll(ids: number[]): Observable<M> {\n    let url = `${this._baseUrl}/delete_all`;\n    if (this._useTrailingSlash) {\n      url = `${url}/`;\n    }\n    return this._http.post<M>(url, {ids});\n  }\n\n  query(params: ModelQueryParams): Observable<ModelListResult<M>> {\n    let url = `${this._baseUrl}/query`;\n    if (this._useTrailingSlash) {\n      url = `${url}/`;\n    }\n    return this._http.post<ModelListResult<M>>(url, params);\n  }\n\n  private _getObjectUrl(id: number): string {\n    let url = `${this._baseUrl}/${id}`;\n    if (this._useTrailingSlash) {\n      url = `${url}/`;\n    }\n    return url;\n  }\n\n  private _getListUrl(): string {\n    let url = this._baseUrl;\n    if (this._useTrailingSlash) {\n      url = `${url}/`;\n    }\n    return url;\n  }\n\n  private _listParamsToQueryParameters(options?: ModelListParams): string {\n    let params = '';\n    const paramsArray: string[] = [];\n    if (options) {\n      if (options.limit) {\n        paramsArray.push(`limit=${options.limit}`);\n      }\n      if (options.start) {\n        paramsArray.push(`start=${options.start}`);\n      }\n      if (options.sort) {\n        const props = Object.keys(options.sort);\n        paramsArray.push(`sort=${props.map(p => `${p}:${options.sort![p]}`).join(',')}`);\n      }\n      if (options.fields) {\n        paramsArray.push(`fields=${options.fields.join(',')}`);\n      }\n      if (options.joins) {\n        paramsArray.push(`joins=${options.joins.map(j => {\n          const join = `${j.model}.${j.property}`;\n          if (j.fields) {\n            return `${join}.${j.fields.join(';')}`;\n          }\n          return join;\n        }).join(',')}`);\n      }\n      if (paramsArray.length > 0) {\n        params = `?${paramsArray.join('&')}`;\n      }\n    }\n    return params;\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {of as obsOf, Observable} from 'rxjs';\nimport {catchError, map, mergeMap} from 'rxjs/operators';\n\nimport {Action} from '@ngrx/store';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\n\nimport {Model, ModelListResult} from '@gngt/core/common';\nimport * as ModelActions from './model-actions';\nimport {ModelManager} from './model-manager';\nimport {ModelService} from './model-service';\nimport * as fromModel from './model-reducer';\nimport {createAction} from './utils';\n\nexport abstract class ModelEffects<\n    M extends Model,\n    S extends fromModel.State<M>,\n    A extends Action,\n    AT extends ModelActions.ModelActionTypes> {\n\n  protected readonly modelGet$: Observable<A> = createEffect(() => this._actions.pipe(\n    ofType<ModelActions.ModelGetAction>(this._actionTypes.GET),\n    mergeMap(action => this._manager.get(action.payload.id).pipe(\n      map((item: M) => createAction<A>({\n        type: this._actionTypes.GET_SUCCESS,\n        payload: {item},\n        uuid: action.uuid\n      })),\n      catchError(error => obsOf(createAction<A>({\n        type: this._actionTypes.GET_FAILURE,\n        payload: {error},\n        uuid: action.uuid\n      }))),\n    ))\n  ));\n\n  protected readonly modelList$: Observable<A> = createEffect(() => this._actions.pipe(\n    ofType<ModelActions.ModelListAction>(this._actionTypes.LIST),\n    mergeMap(action => this._manager.list(action.payload.params).pipe(\n      map((result: ModelListResult<M>) => createAction<A>({\n        type: this._actionTypes.LIST_SUCCESS,\n        payload: {result},\n        uuid: action.uuid\n      })),\n      catchError(error => obsOf(createAction<A>({\n        type: this._actionTypes.LIST_FAILURE,\n        payload: {error},\n        uuid: action.uuid\n      }))),\n    ))\n  ));\n\n  protected readonly modelCreate$: Observable<A> = createEffect(() => this._actions.pipe(\n    ofType<ModelActions.ModelCreateAction<M>>(this._actionTypes.CREATE),\n    mergeMap(action => this._manager.create(action.payload.item).pipe(\n      map((item: M) => createAction<A>({\n        type: this._actionTypes.CREATE_SUCCESS,\n        payload: {item},\n        uuid: action.uuid\n      })),\n      catchError(error => obsOf(createAction<A>({\n        type: this._actionTypes.CREATE_FAILURE,\n        payload: {error},\n        uuid: action.uuid\n      }))),\n    ))\n  ));\n\n  protected readonly modelUpdate$: Observable<A> = createEffect(() => this._actions.pipe(\n    ofType<ModelActions.ModelUpdateAction<M>>(this._actionTypes.UPDATE),\n    mergeMap(action => this._manager.update(action.payload.item.id, action.payload.item).pipe(\n      map((item: M) => createAction<A>({\n        type: this._actionTypes.UPDATE_SUCCESS,\n        payload: {item},\n        uuid: action.uuid\n      })),\n      catchError(error => obsOf(createAction<A>({\n        type: this._actionTypes.CREATE_FAILURE,\n        payload: {error},\n        uuid: action.uuid\n      }))),\n    ))\n  ));\n\n  protected readonly modelPatch$: Observable<A> = createEffect(() => this._actions.pipe(\n    ofType<ModelActions.ModelPatchAction<M>>(this._actionTypes.PATCH),\n    mergeMap(action => this._manager.patch(action.payload.item.id, action.payload.item).pipe(\n      map((item: M) => createAction<A>({\n        type: this._actionTypes.CREATE_SUCCESS,\n        payload: {item},\n        uuid: action.uuid\n      })),\n      catchError(error => obsOf(createAction<A>({\n        type: this._actionTypes.CREATE_FAILURE,\n        payload: {error},\n        uuid: action.uuid\n      }))),\n    ))\n  ));\n\n  protected readonly modelDelete$: Observable<A> = createEffect(() => this._actions.pipe(\n    ofType<ModelActions.ModelDeleteAction<M>>(this._actionTypes.DELETE),\n    mergeMap(action => this._manager.delete(action.payload.item.id).pipe(\n      map(() => createAction<A>({\n        type: this._actionTypes.DELETE_SUCCESS,\n        payload: {item: action.payload.item},\n        uuid: action.uuid\n      })),\n      catchError(error => obsOf(createAction<A>({\n        type: this._actionTypes.DELETE_FAILURE,\n        payload: {error},\n        uuid: action.uuid\n      }))),\n    ))\n  ));\n\n  protected readonly modelDeleteAll$: Observable<A> = createEffect(() => this._actions.pipe(\n    ofType<ModelActions.ModelDeleteAllAction<M>>(this._actionTypes.DELETE_ALL),\n    mergeMap(action => this._manager.deleteAll(action.payload.items.map(i => i.id)).pipe(\n      map(() => createAction<A>({\n        type: this._actionTypes.DELETE_ALL_SUCCESS,\n        payload: {items: action.payload.items},\n        uuid: action.uuid\n      })),\n      catchError(error => obsOf(createAction<A>({\n        type: this._actionTypes.DELETE_ALL_FAILURE,\n        payload: {error},\n        uuid: action.uuid\n      }))),\n    ))\n  ));\n\n  protected readonly modelQuery$: Observable<A> = createEffect(() => this._actions.pipe(\n    ofType<ModelActions.ModelQueryAction>(this._actionTypes.QUERY),\n    mergeMap(action => this._manager.query(action.payload.params).pipe(\n      map((result: ModelListResult<M>) => createAction<A>({\n        type: this._actionTypes.QUERY_SUCCESS,\n        payload: {result},\n        uuid: action.uuid\n      })),\n      catchError(error => obsOf(createAction<A>({\n        type: this._actionTypes.QUERY_FAILURE,\n        payload: {error},\n        uuid: action.uuid\n      }))),\n    ))\n  ));\n\n  constructor(\n    protected _actions: Actions,\n    protected _service: ModelService<M, S, AT>,\n    protected _manager: ModelManager<M>,\n    private _actionTypes: AT,\n  ) { }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Action} from '@ngrx/store';\n\nimport {v4} from 'uuid';\n\nimport {ModelGenericAction} from './model-generic-action';\n\nexport function createAction<A extends Action>(params: {\n  type: string,\n  payload?: any,\n  uuid?: string,\n}): A {\n  const action = new ModelGenericAction(params.payload);\n  action.type = params.type;\n  action.uuid = params.uuid || v4();\n  return action as any;\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Action} from '@ngrx/store';\n\nexport class ModelGenericAction implements Action {\n  type: string;\n  uuid: string;\n  constructor(public payload: any) { }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Model} from '@gngt/core/common';\n\nimport {State} from './model-reducer';\n\nexport * from './model-reducer';\n\nexport interface ModelPackageState<M extends Model> {\n  [model: string]: State<M>;\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  Model, ModelGetParams, ModelListParams, ModelListResult, ModelQueryParams\n} from '@gngt/core/common';\nimport * as ModelActions from './model-actions';\n\nconst stateQueueLimit = 20;\n\nexport interface ModelGetState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  options: ModelGetParams;\n  id: number | null;\n  object: M | null;\n  error: any;\n}\n\nexport interface ModelListState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  options: ModelListParams;\n  objects: ModelListResult<M> | null;\n  error: any;\n}\n\nexport interface ModelCreateState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  object: M | null;\n  error: any;\n}\n\nexport interface ModelUpdateState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  id: number | null;\n  object: M | null;\n  error: any;\n}\n\nexport interface ModelPatchState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  id: number | null;\n  object: M | null;\n  error: any;\n}\n\nexport interface ModelDeleteState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  id: number | null;\n  object: M | null;\n  error: any;\n}\n\nexport interface ModelDeleteAllState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  ids: number[] | null;\n  objects: M[] | null;\n  error: any;\n}\n\nexport interface ModelQueryState<M extends Model> {\n  uuid: string;\n  loading: boolean;\n  options: ModelQueryParams | null;\n  objects: ModelListResult<M> | null;\n  error: any;\n}\n\nexport interface State<M extends Model> {\n  get: ModelGetState<M>[];\n  list: ModelListState<M>[];\n  create: ModelCreateState<M>[];\n  update: ModelUpdateState<M>[];\n  patch: ModelPatchState<M>[];\n  delete: ModelDeleteState<M>[];\n  deleteAll: ModelDeleteAllState<M>[];\n  query: ModelQueryState<M>[];\n}\n\nexport function generateInitialModelState<M extends Model>(): State<M> {\n  return {\n    get: [],\n    list: [],\n    create: [],\n    update: [],\n    patch: [],\n    delete: [],\n    deleteAll: [],\n    query: [],\n  };\n}\n\nexport function modelReducer<M extends Model>(\n  state: State<M>,\n  action: ModelActions.ModelBaseAction,\n  actionTypes: ModelActions.ModelActionTypes\n): State<M> {\n  switch (action.type) {\n\n    case actionTypes.GET:\n    return {\n      ...state,\n      get: [{\n        uuid: action.uuid,\n        loading: true,\n        options: {id: null},\n        id: (<ModelActions.ModelGetAction>action).payload.id,\n        object: null,\n        error: null\n      }, ...state.get.slice(0, stateQueueLimit - 1)],\n    };\n\n    case actionTypes.GET_SUCCESS:\n    const successGetIdx = state.get.findIndex(g => g.uuid === action.uuid);\n    if (successGetIdx >= 0) {\n      return {\n        ...state,\n        get: [...state.get.slice(0, successGetIdx), {\n          ...state.get[successGetIdx],\n          loading: false,\n          object: (<ModelActions.ModelGetSuccessAction<M>>action).payload.item,\n          error: null\n        }, ...state.get.slice(successGetIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.GET_FAILURE:\n    const failureGetIdx = state.get.findIndex(g => g.uuid === action.uuid);\n    if (failureGetIdx >= 0) {\n      return {\n        ...state,\n        get: [...state.get.slice(0, failureGetIdx), {\n          ...state.get[failureGetIdx],\n          loading: false,\n          object: null,\n          error: (<ModelActions.ModelGetFailureAction>action).payload.error\n        }, ...state.get.slice(failureGetIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.LIST:\n    return {\n      ...state,\n      list: [{\n        uuid: action.uuid,\n        loading: true,\n        options: (<ModelActions.ModelListAction>action).payload.params,\n        objects: null,\n        error: null\n      }, ...state.list.slice(0, stateQueueLimit - 1)],\n    };\n\n    case actionTypes.LIST_SUCCESS:\n    const successListIdx = state.list.findIndex(g => g.uuid === action.uuid);\n    if (successListIdx >= 0) {\n      return {\n        ...state,\n        list: [...state.list.slice(0, successListIdx), {\n          ...state.list[successListIdx],\n          loading: false,\n          objects: (<ModelActions.ModelListSuccessAction<M>>action).payload.result,\n          error: null\n        }, ...state.list.slice(successListIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.LIST_FAILURE:\n    const failureListIdx = state.list.findIndex(g => g.uuid === action.uuid);\n    if (failureListIdx >= 0) {\n      return {\n        ...state,\n        list: [...state.list.slice(0, failureListIdx), {\n          ...state.list[failureListIdx],\n          loading: false,\n          objects: null,\n          error: (<ModelActions.ModelListFailureAction>action).payload.error\n        }, ...state.list.slice(failureListIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.CREATE:\n    return {\n      ...state,\n      create: [{\n        uuid: action.uuid,\n        loading: true,\n        object: (<ModelActions.ModelCreateAction<M>>action).payload.item,\n        error: null\n      }, ...state.create.slice(0, stateQueueLimit - 1)],\n    };\n\n    case actionTypes.CREATE_SUCCESS:\n    const successCreateIdx = state.create.findIndex(g => g.uuid === action.uuid);\n    if (successCreateIdx >= 0) {\n      return {\n        ...state,\n        create: [...state.create.slice(0, successCreateIdx), {\n          ...state.create[successCreateIdx],\n          loading: false,\n          object: (<ModelActions.ModelCreateSuccessAction<M>>action).payload.item,\n          error: null\n        }, ...state.create.slice(successCreateIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.CREATE_FAILURE:\n    const failureCreateIdx = state.create.findIndex(g => g.uuid === action.uuid);\n    if (failureCreateIdx >= 0) {\n      return {\n        ...state,\n        create: [...state.create.slice(0, failureCreateIdx), {\n          ...state.create[failureCreateIdx],\n          loading: false,\n          object: null,\n          error: (<ModelActions.ModelCreateFailureAction>action).payload.error\n        }, ...state.create.slice(failureCreateIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.UPDATE:\n    return {\n      ...state,\n      update: [{\n        uuid: action.uuid,\n        loading: true,\n        id: (<ModelActions.ModelUpdateAction<M>>action).payload.item.id,\n        object: (<ModelActions.ModelUpdateAction<M>>action).payload.item,\n        error: null\n      }, ...state.update.slice(0, stateQueueLimit - 1)]\n    };\n\n    case actionTypes.UPDATE_SUCCESS:\n    const successUpdateIdx = state.update.findIndex(g => g.uuid === action.uuid);\n    if (successUpdateIdx >= 0) {\n      return {\n        ...state,\n        update: [...state.update.slice(0, successUpdateIdx), {\n          ...state.update[successUpdateIdx],\n          loading: false,\n          object: (<ModelActions.ModelUpdateSuccessAction<M>>action).payload.item,\n          error: null\n        }, ...state.update.slice(successUpdateIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.UPDATE_FAILURE:\n    const failureUpdateIdx = state.update.findIndex(g => g.uuid === action.uuid);\n    if (failureUpdateIdx >= 0) {\n      return {\n        ...state,\n        update: [...state.update.slice(0, failureUpdateIdx), {\n          ...state.update[failureUpdateIdx],\n          loading: false,\n          object: null,\n          error: (<ModelActions.ModelUpdateFailureAction>action).payload.error\n        }, ...state.update.slice(failureUpdateIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.PATCH:\n    return {\n      ...state,\n      patch: [{\n        uuid: action.uuid,\n        loading: true,\n        id: (<ModelActions.ModelPatchAction<M>>action).payload.item.id,\n        object: (<ModelActions.ModelPatchAction<M>>action).payload.item,\n        error: null\n      }, ...state.patch.slice(0, stateQueueLimit - 1)]\n    };\n\n    case actionTypes.PATCH_SUCCESS:\n    const successPatchIdx = state.patch.findIndex(g => g.uuid === action.uuid);\n    if (successPatchIdx >= 0) {\n      return {\n        ...state,\n        patch: [...state.patch.slice(0, successPatchIdx), {\n          ...state.patch[successPatchIdx],\n          loading: false,\n          object: (<ModelActions.ModelPatchSuccessAction<M>>action).payload.item,\n          error: null\n        }, ...state.patch.slice(successPatchIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.PATCH_FAILURE:\n    const failurePatchIdx = state.patch.findIndex(g => g.uuid === action.uuid);\n    if (failurePatchIdx >= 0) {\n      return {\n        ...state,\n        patch: [...state.patch.slice(0, failurePatchIdx), {\n          ...state.patch[failurePatchIdx],\n          loading: false,\n          object: null,\n          error: (<ModelActions.ModelPatchFailureAction>action).payload.error\n        }, ...state.patch.slice(failurePatchIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.DELETE:\n    return {\n      ...state,\n      delete: [{\n        uuid: action.uuid,\n        loading: true,\n        id: (<ModelActions.ModelDeleteAction<M>>action).payload.item.id,\n        object: null,\n        error: null\n      }, ...state.delete.slice(0, stateQueueLimit - 1)],\n    };\n\n    case actionTypes.DELETE_SUCCESS:\n    const successDeleteIdx = state.delete.findIndex(g => g.uuid === action.uuid);\n    if (successDeleteIdx >= 0) {\n      return {\n        ...state,\n        delete: [...state.delete.slice(0, successDeleteIdx), {\n          ...state.delete[successDeleteIdx],\n          loading: false,\n          object: (<ModelActions.ModelDeleteSuccessAction<M>>action).payload.item,\n          error: null\n        }, ...state.delete.slice(successDeleteIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.DELETE_FAILURE:\n    const failureDeleteIdx = state.delete.findIndex(g => g.uuid === action.uuid);\n    if (failureDeleteIdx >= 0) {\n      return {\n        ...state,\n        delete: [...state.delete.slice(0, failureDeleteIdx), {\n          ...state.delete[failureDeleteIdx],\n          loading: false,\n          object: null,\n          error: (<ModelActions.ModelDeleteFailureAction>action).payload.error\n        }, ...state.delete.slice(failureDeleteIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.DELETE_ALL:\n    return {\n      ...state,\n      deleteAll: [{\n        uuid: action.uuid,\n        loading: true,\n        ids: (<ModelActions.ModelDeleteAllAction<M>>action).payload.items.map(i => i.id),\n        objects: null,\n        error: null\n      }, ...state.deleteAll.slice(0, stateQueueLimit - 1)],\n    };\n\n    case actionTypes.DELETE_ALL_SUCCESS:\n    const successDeleteAllIdx = state.deleteAll.findIndex(g => g.uuid === action.uuid);\n    if (successDeleteAllIdx >= 0) {\n      return {\n        ...state,\n        deleteAll: [...state.deleteAll.slice(0, successDeleteAllIdx), {\n          ...state.deleteAll[successDeleteAllIdx],\n          loading: false,\n          objects: (<ModelActions.ModelDeleteAllSuccessAction<M>>action).payload.items,\n          error: null\n        }, ...state.deleteAll.slice(successDeleteAllIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.DELETE_ALL_FAILURE:\n    const failureDeleteAllIdx = state.deleteAll.findIndex(g => g.uuid === action.uuid);\n    if (failureDeleteAllIdx >= 0) {\n      return {\n        ...state,\n        deleteAll: [...state.deleteAll.slice(0, failureDeleteAllIdx), {\n          ...state.deleteAll[failureDeleteAllIdx],\n          loading: false,\n          objects: null,\n          error: (<ModelActions.ModelDeleteAllFailureAction>action).payload.error\n        }, ...state.deleteAll.slice(failureDeleteAllIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.QUERY:\n    return {\n      ...state,\n      query: [{\n        uuid: action.uuid,\n        loading: true,\n        options: (<ModelActions.ModelQueryAction>action).payload.params,\n        objects: null,\n        error: null\n      }, ...state.query.slice(0, stateQueueLimit - 1)],\n    };\n\n    case actionTypes.QUERY_SUCCESS:\n    const successQueryIdx = state.query.findIndex(g => g.uuid === action.uuid);\n    if (successQueryIdx >= 0) {\n      return {\n        ...state,\n        query: [...state.query.slice(0, successQueryIdx), {\n          ...state.query[successQueryIdx],\n          loading: false,\n          options: {...state.query[successQueryIdx].options!},\n          objects: (<ModelActions.ModelQuerySuccessAction<M>>action).payload.result,\n          error: null\n        }, ...state.query.slice(successQueryIdx + 1)],\n      };\n    }\n    return state;\n\n    case actionTypes.QUERY_FAILURE:\n    const failureQueryIdx = state.query.findIndex(g => g.uuid === action.uuid);\n    if (failureQueryIdx >= 0) {\n      return {\n        ...state,\n        query: [...state.query.slice(0, failureQueryIdx), {\n          ...state.query[failureQueryIdx],\n          loading: false,\n          options: {...state.query[failureQueryIdx].options!},\n          objects: null,\n          error: (<ModelActions.ModelQueryFailureAction>action).payload.error\n        }, ...state.query.slice(failureQueryIdx + 1)],\n      };\n    }\n    return state;\n\n    default:\n    return state;\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Model, ModelListParams, ModelListResult, ModelQueryParams} from '@gngt/core/common';\nimport {type} from '@gngt/core/reducers';\n\nimport {ModelGenericAction} from './model-generic-action';\n\nexport interface ModelActionTypes {\n  GET: string;\n  GET_FAILURE: string;\n  GET_SUCCESS: string;\n  LIST: string;\n  LIST_SUCCESS: string;\n  LIST_FAILURE: string;\n  CREATE: string;\n  CREATE_SUCCESS: string;\n  CREATE_FAILURE: string;\n  UPDATE: string;\n  UPDATE_SUCCESS: string;\n  UPDATE_FAILURE: string;\n  PATCH: string;\n  PATCH_SUCCESS: string;\n  PATCH_FAILURE: string;\n  DELETE: string;\n  DELETE_SUCCESS: string;\n  DELETE_FAILURE: string;\n  DELETE_ALL: string;\n  DELETE_ALL_SUCCESS: string;\n  DELETE_ALL_FAILURE: string;\n  QUERY: string;\n  QUERY_SUCCESS: string;\n  QUERY_FAILURE: string;\n}\n\nexport function generateModelActionTypes(typeName: string): ModelActionTypes {\n  return {\n    LIST: type(`[${typeName}] List`),\n    LIST_FAILURE: type(`[${typeName}] List failure`),\n    LIST_SUCCESS: type(`[${typeName}] List success`),\n    GET: type(`[${typeName}] Get`),\n    GET_FAILURE: type(`[${typeName}] Get failure`),\n    GET_SUCCESS: type(`[${typeName}] Get success`),\n    CREATE: type(`[${typeName}] Create`),\n    CREATE_FAILURE: type(`[${typeName}] Create failure`),\n    CREATE_SUCCESS: type(`[${typeName}] Create success`),\n    UPDATE: type(`[${typeName}] Update`),\n    UPDATE_FAILURE: type(`[${typeName}] Update failure`),\n    UPDATE_SUCCESS: type(`[${typeName}] Update success`),\n    PATCH: type(`[${typeName}] Patch`),\n    PATCH_FAILURE: type(`[${typeName}] Patch failure`),\n    PATCH_SUCCESS: type(`[${typeName}] Patch success`),\n    DELETE: type(`[${typeName}] Delete`),\n    DELETE_FAILURE: type(`[${typeName}] Delete failure`),\n    DELETE_SUCCESS: type(`[${typeName}] Delete success`),\n    DELETE_ALL: type(`[${typeName}] Delete all`),\n    DELETE_ALL_FAILURE: type(`[${typeName}] Delete all failure`),\n    DELETE_ALL_SUCCESS: type(`[${typeName}] Delete all success`),\n    QUERY: type(`[${typeName}] Query`),\n    QUERY_FAILURE: type(`[${typeName}] Query failure`),\n    QUERY_SUCCESS: type(`[${typeName}] Query success`),\n  };\n}\n\nexport abstract class ModelBaseAction implements ModelGenericAction {\n  abstract type: string;\n  uuid: string;\n  constructor(public payload: any) { }\n}\n\nexport abstract class ModelGetAction extends ModelBaseAction {\n  constructor(public payload: {id: number}) { super(payload); }\n}\nexport abstract class ModelGetSuccessAction<T extends Model> extends ModelBaseAction  {\n  constructor(public payload: {item: T}) { super(payload); }\n}\nexport abstract class ModelGetFailureAction extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {error: any}) { super(payload); }\n}\n\nexport abstract class ModelListAction extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {params: ModelListParams}) { super(payload); }\n}\nexport abstract class ModelListSuccessAction<T extends Model> extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {result: ModelListResult<T>}) { super(payload); }\n}\nexport abstract class ModelListFailureAction extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {error: any}) { super(payload); }\n}\n\nexport abstract class ModelCreateAction<T extends Model> extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {item: T}) { super(payload); }\n}\nexport abstract class ModelCreateSuccessAction<T extends Model> extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {item: T}) { super(payload); }\n}\nexport abstract class ModelCreateFailureAction extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {error: any}) { super(payload); }\n}\n\nexport abstract class ModelUpdateAction<T extends Model> extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {item: T}) { super(payload); }\n}\nexport abstract class ModelUpdateSuccessAction<T extends Model> extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {item: T}) { super(payload); }\n}\nexport abstract class ModelUpdateFailureAction extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {error: any}) { super(payload); }\n}\n\nexport abstract class ModelPatchAction<T extends Model> extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {item: T}) { super(payload); }\n}\nexport abstract class ModelPatchSuccessAction<T extends Model> extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {item: T}) { super(payload); }\n}\nexport abstract class ModelPatchFailureAction extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {error: any}) { super(payload); }\n}\n\nexport abstract class ModelDeleteAction<T extends Model> extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {item: T}) { super(payload); }\n}\nexport abstract class ModelDeleteSuccessAction<T extends Model> extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {item: T}) { super(payload); }\n}\nexport abstract class ModelDeleteFailureAction extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {error: any}) { super(payload); }\n}\n\nexport abstract class ModelDeleteAllAction<T extends Model> extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {items: T[]}) { super(payload); }\n}\nexport abstract class ModelDeleteAllSuccessAction<T extends Model> extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {items: T[]}) { super(payload); }\n}\nexport abstract class ModelDeleteAllFailureAction extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {error: any}) { super(payload); }\n}\n\nexport abstract class ModelQueryAction extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {params: ModelQueryParams}) { super(payload); }\n}\nexport abstract class ModelQuerySuccessAction<T extends Model> extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {result: ModelListResult<T>}) { super(payload); }\n}\nexport abstract class ModelQueryFailureAction extends ModelBaseAction {\n  abstract type: string;\n  constructor(public payload: {error: any}) { super(payload); }\n}\n"],"names":["BaseModelManager","obsOf"],"mappings":"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"}